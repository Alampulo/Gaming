/*! tgb-embed - 2018-07-05 */

!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Handlebars=t():e.Handlebars=t()}(this,function(){return function(e){function t(a){if(n[a])return n[a].exports;var l=n[a]={exports:{},id:a,loaded:!1};return e[a].call(l.exports,l,l.exports,t),l.loaded=!0,l.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function a(){var e=new i.HandlebarsEnvironment;return u.extend(e,i),e.SafeString=o.default,e.Exception=s.default,e.Utils=u,e.escapeExpression=u.escapeExpression,e.VM=c,e.template=function(t){return c.template(t,e)},e}var l=n(1).default,r=n(2).default;t.__esModule=!0;var i=l(n(3)),o=r(n(20)),s=r(n(5)),u=l(n(4)),c=l(n(21)),p=r(n(33)),m=a();m.create=a,p.default(m),m.default=m,t.default=m,e.exports=t.default},function(e,t){"use strict";t.default=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},t.__esModule=!0},function(e,t){"use strict";t.default=function(e){return e&&e.__esModule?e:{default:e}},t.__esModule=!0},function(e,t,n){"use strict";function a(e,t,n){this.helpers=e||{},this.partials=t||{},this.decorators=n||{},o.registerDefaultHelpers(this),s.registerDefaultDecorators(this)}var l=n(2).default;t.__esModule=!0,t.HandlebarsEnvironment=a;var r=n(4),i=l(n(5)),o=n(9),s=n(17),u=l(n(19));t.VERSION="4.0.10";t.COMPILER_REVISION=7;var c={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};t.REVISION_CHANGES=c;a.prototype={constructor:a,logger:u.default,log:u.default.log,registerHelper:function(e,t){if("[object Object]"===r.toString.call(e)){if(t)throw new i.default("Arg not supported with multiple helpers");r.extend(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){if("[object Object]"===r.toString.call(e))r.extend(this.partials,e);else{if(void 0===t)throw new i.default('Attempting to register a partial called "'+e+'" as undefined');this.partials[e]=t}},unregisterPartial:function(e){delete this.partials[e]},registerDecorator:function(e,t){if("[object Object]"===r.toString.call(e)){if(t)throw new i.default("Arg not supported with multiple decorators");r.extend(this.decorators,e)}else this.decorators[e]=t},unregisterDecorator:function(e){delete this.decorators[e]}};var p=u.default.log;t.log=p,t.createFrame=r.createFrame,t.logger=u.default},function(e,t){"use strict";function n(e){return l[e]}function a(e){for(var t=1;t<arguments.length;t++)for(var n in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],n)&&(e[n]=arguments[t][n]);return e}t.__esModule=!0,t.extend=a,t.indexOf=function(e,t){for(var n=0,a=e.length;n<a;n++)if(e[n]===t)return n;return-1},t.escapeExpression=function(e){if("string"!=typeof e){if(e&&e.toHTML)return e.toHTML();if(null==e)return"";if(!e)return e+"";e=""+e}return i.test(e)?e.replace(r,n):e},t.isEmpty=function(e){return!e&&0!==e||!(!u(e)||0!==e.length)},t.createFrame=function(e){var t=a({},e);return t._parent=e,t},t.blockParams=function(e,t){return e.path=t,e},t.appendContextPath=function(e,t){return(e?e+".":"")+t};var l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},r=/[&<>"'`=]/g,i=/[&<>"'`=]/,o=Object.prototype.toString;t.toString=o;var s=function(e){return"function"==typeof e};s(/x/)&&(t.isFunction=s=function(e){return"function"==typeof e&&"[object Function]"===o.call(e)}),t.isFunction=s;var u=Array.isArray||function(e){return!(!e||"object"!=typeof e)&&"[object Array]"===o.call(e)};t.isArray=u},function(e,t,n){"use strict";function a(e,t){var n=t&&t.loc,i=void 0,o=void 0;n&&(e+=" - "+(i=n.start.line)+":"+(o=n.start.column));for(var s=Error.prototype.constructor.call(this,e),u=0;u<r.length;u++)this[r[u]]=s[r[u]];Error.captureStackTrace&&Error.captureStackTrace(this,a);try{n&&(this.lineNumber=i,l?Object.defineProperty(this,"column",{value:o,enumerable:!0}):this.column=o)}catch(e){}}var l=n(6).default;t.__esModule=!0;var r=["description","fileName","lineNumber","message","name","number","stack"];a.prototype=new Error,t.default=a,e.exports=t.default},function(e,t,n){e.exports={default:n(7),__esModule:!0}},function(e,t,n){var a=n(8);e.exports=function(e,t,n){return a.setDesc(e,t,n)}},function(e,t){var n=Object;e.exports={create:n.create,getProto:n.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:n.getOwnPropertyDescriptor,setDesc:n.defineProperty,setDescs:n.defineProperties,getKeys:n.keys,getNames:n.getOwnPropertyNames,getSymbols:n.getOwnPropertySymbols,each:[].forEach}},function(e,t,n){"use strict";var a=n(2).default;t.__esModule=!0,t.registerDefaultHelpers=function(e){l.default(e),r.default(e),i.default(e),o.default(e),s.default(e),u.default(e),c.default(e)};var l=a(n(10)),r=a(n(11)),i=a(n(12)),o=a(n(13)),s=a(n(14)),u=a(n(15)),c=a(n(16))},function(e,t,n){"use strict";t.__esModule=!0;var a=n(4);t.default=function(e){e.registerHelper("blockHelperMissing",function(t,n){var l=n.inverse,r=n.fn;if(!0===t)return r(this);if(!1===t||null==t)return l(this);if(a.isArray(t))return t.length>0?(n.ids&&(n.ids=[n.name]),e.helpers.each(t,n)):l(this);if(n.data&&n.ids){var i=a.createFrame(n.data);i.contextPath=a.appendContextPath(n.data.contextPath,n.name),n={data:i}}return r(t,n)})},e.exports=t.default},function(e,t,n){"use strict";var a=n(2).default;t.__esModule=!0;var l=n(4),r=a(n(5));t.default=function(e){e.registerHelper("each",function(e,t){function n(t,n,r){u&&(u.key=t,u.index=n,u.first=0===n,u.last=!!r,c&&(u.contextPath=c+t)),s+=a(e[t],{data:u,blockParams:l.blockParams([e[t],t],[c+t,null])})}if(!t)throw new r.default("Must pass iterator to #each");var a=t.fn,i=t.inverse,o=0,s="",u=void 0,c=void 0;if(t.data&&t.ids&&(c=l.appendContextPath(t.data.contextPath,t.ids[0])+"."),l.isFunction(e)&&(e=e.call(this)),t.data&&(u=l.createFrame(t.data)),e&&"object"==typeof e)if(l.isArray(e))for(var p=e.length;o<p;o++)o in e&&n(o,o,o===e.length-1);else{var m=void 0;for(var d in e)e.hasOwnProperty(d)&&(void 0!==m&&n(m,o-1),m=d,o++);void 0!==m&&n(m,o-1,!0)}return 0===o&&(s=i(this)),s})},e.exports=t.default},function(e,t,n){"use strict";var a=n(2).default;t.__esModule=!0;var l=a(n(5));t.default=function(e){e.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new l.default('Missing helper: "'+arguments[arguments.length-1].name+'"')})},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var a=n(4);t.default=function(e){e.registerHelper("if",function(e,t){return a.isFunction(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||a.isEmpty(e)?t.inverse(this):t.fn(this)}),e.registerHelper("unless",function(t,n){return e.helpers.if.call(this,t,{fn:n.inverse,inverse:n.fn,hash:n.hash})})},e.exports=t.default},function(e,t){"use strict";t.__esModule=!0,t.default=function(e){e.registerHelper("log",function(){for(var t=[void 0],n=arguments[arguments.length-1],a=0;a<arguments.length-1;a++)t.push(arguments[a]);var l=1;null!=n.hash.level?l=n.hash.level:n.data&&null!=n.data.level&&(l=n.data.level),t[0]=l,e.log.apply(e,t)})},e.exports=t.default},function(e,t){"use strict";t.__esModule=!0,t.default=function(e){e.registerHelper("lookup",function(e,t){return e&&e[t]})},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var a=n(4);t.default=function(e){e.registerHelper("with",function(e,t){a.isFunction(e)&&(e=e.call(this));var n=t.fn;if(a.isEmpty(e))return t.inverse(this);var l=t.data;return t.data&&t.ids&&((l=a.createFrame(t.data)).contextPath=a.appendContextPath(t.data.contextPath,t.ids[0])),n(e,{data:l,blockParams:a.blockParams([e],[l&&l.contextPath])})})},e.exports=t.default},function(e,t,n){"use strict";var a=n(2).default;t.__esModule=!0,t.registerDefaultDecorators=function(e){l.default(e)};var l=a(n(18))},function(e,t,n){"use strict";t.__esModule=!0;var a=n(4);t.default=function(e){e.registerDecorator("inline",function(e,t,n,l){var r=e;return t.partials||(t.partials={},r=function(l,r){var i=n.partials;n.partials=a.extend({},i,t.partials);var o=e(l,r);return n.partials=i,o}),t.partials[l.args[0]]=l.fn,r})},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var a=n(4),l={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(e){if("string"==typeof e){var t=a.indexOf(l.methodMap,e.toLowerCase());e=t>=0?t:parseInt(e,10)}return e},log:function(e){if(e=l.lookupLevel(e),"undefined"!=typeof console&&l.lookupLevel(l.level)<=e){var t=l.methodMap[e];console[t]||(t="log");for(var n=arguments.length,a=Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];console[t].apply(console,a)}}};t.default=l,e.exports=t.default},function(e,t){"use strict";function n(e){this.string=e}t.__esModule=!0,n.prototype.toString=n.prototype.toHTML=function(){return""+this.string},t.default=n,e.exports=t.default},function(e,t,n){"use strict";function a(e,t,n,a,l,r,o){function s(t){var l=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=o;return!o||t==o[0]||t===e.nullContext&&null===o[0]||(i=[t].concat(o)),n(e,t,e.helpers,e.partials,l.data||a,r&&[l.blockParams].concat(r),i)}return s=i(n,s,e,o,a,r),s.program=t,s.depth=o?o.length:0,s.blockParams=l||0,s}function l(){return""}function r(e,t){return t&&"root"in t||((t=t?m.createFrame(t):{}).root=e),t}function i(e,t,n,a,l,r){if(e.decorator){var i={};t=e.decorator(t,i,n,a&&a[0],l,r,a),c.extend(t,i)}return t}var o=n(22).default,s=n(1).default,u=n(2).default;t.__esModule=!0,t.checkRevision=function(e){var t=e&&e[0]||1,n=m.COMPILER_REVISION;if(t!==n){if(t<n){var a=m.REVISION_CHANGES[n],l=m.REVISION_CHANGES[t];throw new p.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+a+") or downgrade your runtime to an older version ("+l+").")}throw new p.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}},t.template=function(e,t){function n(t){function a(t){return""+e.main(l,t,l.helpers,l.partials,s,c,u)}var o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],s=o.data;n._setup(o),!o.partial&&e.useData&&(s=r(t,s));var u=void 0,c=e.useBlockParams?[]:void 0;return e.useDepths&&(u=o.depths?t!=o.depths[0]?[t].concat(o.depths):o.depths:[t]),(a=i(e.main,a,l,o.depths||[],s,c))(t,o)}if(!t)throw new p.default("No environment passed to template");if(!e||!e.main)throw new p.default("Unknown template object: "+typeof e);e.main.decorator=e.main_d,t.VM.checkRevision(e.compiler);var l={strict:function(e,t){if(!(t in e))throw new p.default('"'+t+'" not defined in '+e);return e[t]},lookup:function(e,t){for(var n=e.length,a=0;a<n;a++)if(e[a]&&null!=e[a][t])return e[a][t]},lambda:function(e,t){return"function"==typeof e?e.call(t):e},escapeExpression:c.escapeExpression,invokePartial:function(n,a,l){l.hash&&(a=c.extend({},a,l.hash),l.ids&&(l.ids[0]=!0)),n=t.VM.resolvePartial.call(this,n,a,l);var r=t.VM.invokePartial.call(this,n,a,l);if(null==r&&t.compile&&(l.partials[l.name]=t.compile(n,e.compilerOptions,t),r=l.partials[l.name](a,l)),null!=r){if(l.indent){for(var i=r.split("\n"),o=0,s=i.length;o<s&&(i[o]||o+1!==s);o++)i[o]=l.indent+i[o];r=i.join("\n")}return r}throw new p.default("The partial "+l.name+" could not be compiled when running in runtime-only mode")},fn:function(t){var n=e[t];return n.decorator=e[t+"_d"],n},programs:[],program:function(e,t,n,l,r){var i=this.programs[e],o=this.fn(e);return t||r||l||n?i=a(this,e,o,t,n,l,r):i||(i=this.programs[e]=a(this,e,o)),i},data:function(e,t){for(;e&&t--;)e=e._parent;return e},merge:function(e,t){var n=e||t;return e&&t&&e!==t&&(n=c.extend({},t,e)),n},nullContext:o({}),noop:t.VM.noop,compilerInfo:e.compiler};return n.isTop=!0,n._setup=function(n){n.partial?(l.helpers=n.helpers,l.partials=n.partials,l.decorators=n.decorators):(l.helpers=l.merge(n.helpers,t.helpers),e.usePartial&&(l.partials=l.merge(n.partials,t.partials)),(e.usePartial||e.useDecorators)&&(l.decorators=l.merge(n.decorators,t.decorators)))},n._child=function(t,n,r,i){if(e.useBlockParams&&!r)throw new p.default("must pass block params");if(e.useDepths&&!i)throw new p.default("must pass parent depths");return a(l,t,e[t],n,0,r,i)},n},t.wrapProgram=a,t.resolvePartial=function(e,t,n){return e?e.call||n.name||(n.name=e,e=n.partials[e]):e="@partial-block"===n.name?n.data["partial-block"]:n.partials[n.name],e},t.invokePartial=function(e,t,n){var a=n.data&&n.data["partial-block"];n.partial=!0,n.ids&&(n.data.contextPath=n.ids[0]||n.data.contextPath);var r=void 0;if(n.fn&&n.fn!==l&&function(){n.data=m.createFrame(n.data);var e=n.fn;r=n.data["partial-block"]=function(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return n.data=m.createFrame(n.data),n.data["partial-block"]=a,e(t,n)},e.partials&&(n.partials=c.extend({},n.partials,e.partials))}(),void 0===e&&r&&(e=r),void 0===e)throw new p.default("The partial "+n.name+" could not be found");if(e instanceof Function)return e(t,n)},t.noop=l;var c=s(n(4)),p=u(n(5)),m=n(3)},function(e,t,n){e.exports={default:n(23),__esModule:!0}},function(e,t,n){n(24),e.exports=n(29).Object.seal},function(e,t,n){var a=n(25);n(26)("seal",function(e){return function(t){return e&&a(t)?e(t):t}})},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var a=n(27),l=n(29),r=n(32);e.exports=function(e,t){var n=(l.Object||{})[e]||Object[e],i={};i[e]=t(n),a(a.S+a.F*r(function(){n(1)}),"Object",i)}},function(e,t,n){var a=n(28),l=n(29),r=n(30),i=function(e,t,n){var o,s,u,c=e&i.F,p=e&i.G,m=e&i.S,d=e&i.P,h=e&i.B,f=e&i.W,g=p?l:l[t]||(l[t]={}),v=p?a:m?a[t]:(a[t]||{}).prototype;p&&(n=t);for(o in n)(s=!c&&v&&o in v)&&o in g||(u=s?v[o]:n[o],g[o]=p&&"function"!=typeof v[o]?n[o]:h&&s?r(u,a):f&&v[o]==u?function(e){var t=function(t){return this instanceof e?new e(t):e(t)};return t.prototype=e.prototype,t}(u):d&&"function"==typeof u?r(Function.call,u):u,d&&((g.prototype||(g.prototype={}))[o]=u))};i.F=1,i.G=2,i.S=4,i.P=8,i.B=16,i.W=32,e.exports=i},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){var n=e.exports={version:"1.2.6"};"number"==typeof __e&&(__e=n)},function(e,t,n){var a=n(31);e.exports=function(e,t,n){if(a(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,a){return e.call(t,n,a)};case 3:return function(n,a,l){return e.call(t,n,a,l)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){(function(n){"use strict";t.__esModule=!0,t.default=function(e){var t=void 0!==n?n:window,a=t.Handlebars;e.noConflict=function(){return t.Handlebars===e&&(t.Handlebars=a),e}},e.exports=t.default}).call(t,function(){return this}())}])}),function(e,t){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",t):"object"==typeof module&&module.exports?module.exports=t():e.EvEmitter=t()}("undefined"!=typeof window?window:this,function(){function e(){}var t=e.prototype;return t.on=function(e,t){if(e&&t){var n=this._events=this._events||{},a=n[e]=n[e]||[];return-1==a.indexOf(t)&&a.push(t),this}},t.once=function(e,t){if(e&&t){this.on(e,t);var n=this._onceEvents=this._onceEvents||{};return(n[e]=n[e]||{})[t]=!0,this}},t.off=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){var a=n.indexOf(t);return-1!=a&&n.splice(a,1),this}},t.emitEvent=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){var a=0,l=n[a];t=t||[];for(var r=this._onceEvents&&this._onceEvents[e];l;){var i=r&&r[l];i&&(this.off(e,l),delete r[l]),l.apply(this,t),l=n[a+=i?0:1]}return this}},t.allOff=t.removeAllListeners=function(){delete this._events,delete this._onceEvents},e}),function(e,t){"use strict";"function"==typeof define&&define.amd?define(["ev-emitter/ev-emitter"],function(n){return t(e,n)}):"object"==typeof module&&module.exports?module.exports=t(e,require("ev-emitter")):e.imagesLoaded=t(e,e.EvEmitter)}("undefined"!=typeof window?window:this,function(e,t){function n(e,t){for(var n in t)e[n]=t[n];return e}function a(e){var t=[];if(Array.isArray(e))t=e;else if("number"==typeof e.length)for(var n=0;n<e.length;n++)t.push(e[n]);else t.push(e);return t}function l(e,t,r){return this instanceof l?("string"==typeof e&&(e=document.querySelectorAll(e)),this.elements=a(e),this.options=n({},this.options),"function"==typeof t?r=t:n(this.options,t),r&&this.on("always",r),this.getImages(),o&&(this.jqDeferred=new o.Deferred),void setTimeout(function(){this.check()}.bind(this))):new l(e,t,r)}function r(e){this.img=e}function i(e,t){this.url=e,this.element=t,this.img=new Image}var o=e.jQuery,s=e.console;l.prototype=Object.create(t.prototype),l.prototype.options={},l.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},l.prototype.addElementImages=function(e){"IMG"==e.nodeName&&this.addImage(e),!0===this.options.background&&this.addElementBackgroundImages(e);var t=e.nodeType;if(t&&u[t]){for(var n=e.querySelectorAll("img"),a=0;a<n.length;a++){var l=n[a];this.addImage(l)}if("string"==typeof this.options.background){var r=e.querySelectorAll(this.options.background);for(a=0;a<r.length;a++){var i=r[a];this.addElementBackgroundImages(i)}}}};var u={1:!0,9:!0,11:!0};return l.prototype.addElementBackgroundImages=function(e){var t=getComputedStyle(e);if(t)for(var n=/url\((['"])?(.*?)\1\)/gi,a=n.exec(t.backgroundImage);null!==a;){var l=a&&a[2];l&&this.addBackground(l,e),a=n.exec(t.backgroundImage)}},l.prototype.addImage=function(e){var t=new r(e);this.images.push(t)},l.prototype.addBackground=function(e,t){var n=new i(e,t);this.images.push(n)},l.prototype.check=function(){function e(e,n,a){setTimeout(function(){t.progress(e,n,a)})}var t=this;return this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?void this.images.forEach(function(t){t.once("progress",e),t.check()}):void this.complete()},l.prototype.progress=function(e,t,n){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded,this.emitEvent("progress",[this,e,t]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,e),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&s&&s.log("progress: "+n,e,t)},l.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(e,[this]),this.emitEvent("always",[this]),this.jqDeferred){var t=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[t](this)}},r.prototype=Object.create(t.prototype),r.prototype.check=function(){return this.getIsImageComplete()?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),void(this.proxyImage.src=this.img.src))},r.prototype.getIsImageComplete=function(){return this.img.complete&&void 0!==this.img.naturalWidth},r.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.img,t])},r.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},r.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},r.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},r.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},i.prototype=Object.create(r.prototype),i.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},i.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},i.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.element,t])},l.makeJQueryPlugin=function(t){(t=t||e.jQuery)&&(o=t,o.fn.imagesLoaded=function(e,t){return new l(this,e,t).jqDeferred.promise(o(this))})},l.makeJQueryPlugin(),l}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof module&&"object"==typeof module.exports?require("jquery"):jQuery)}(function(e){function t(){var t=r.settings;if(t.autoDispose&&!e.contains(document.documentElement,this))return e(this).timeago("dispose"),this;var i=n(this);return isNaN(i.datetime)||(0===t.cutoff||Math.abs(l(i.datetime))<t.cutoff?e(this).text(a(i.datetime)):e(this).attr("title").length>0&&e(this).text(e(this).attr("title"))),this}function n(t){if(!(t=e(t)).data("timeago")){t.data("timeago",{datetime:r.datetime(t)});var n=e.trim(t.text());r.settings.localeTitle?t.attr("title",t.data("timeago").datetime.toLocaleString()):!(n.length>0)||r.isTime(t)&&t.attr("title")||t.attr("title",n)}return t.data("timeago")}function a(e){return r.inWords(l(e))}function l(e){return(new Date).getTime()-e.getTime()}e.timeago=function(t){return a(t instanceof Date?t:"string"==typeof t?e.timeago.parse(t):"number"==typeof t?new Date(t):e.timeago.datetime(t))};var r=e.timeago;e.extend(e.timeago,{settings:{refreshMillis:6e4,allowPast:!0,allowFuture:!1,localeTitle:!1,cutoff:0,autoDispose:!0,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",inPast:"any moment now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years",wordSeparator:" ",numbers:[]}},inWords:function(t){function n(n,l){var r=e.isFunction(n)?n(l,t):n,i=a.numbers&&a.numbers[l]||l;return r.replace(/%d/i,i)}if(!this.settings.allowPast&&!this.settings.allowFuture)throw"timeago allowPast and allowFuture settings can not both be set to false.";var a=this.settings.strings,l=a.prefixAgo,r=a.suffixAgo;if(this.settings.allowFuture&&t<0&&(l=a.prefixFromNow,r=a.suffixFromNow),!this.settings.allowPast&&t>=0)return this.settings.strings.inPast;var i=Math.abs(t)/1e3,o=i/60,s=o/60,u=s/24,c=u/365,p=i<45&&n(a.seconds,Math.round(i))||i<90&&n(a.minute,1)||o<45&&n(a.minutes,Math.round(o))||o<90&&n(a.hour,1)||s<24&&n(a.hours,Math.round(s))||s<42&&n(a.day,1)||u<30&&n(a.days,Math.round(u))||u<45&&n(a.month,1)||u<365&&n(a.months,Math.round(u/30))||c<1.5&&n(a.year,1)||n(a.years,Math.round(c)),m=a.wordSeparator||"";return void 0===a.wordSeparator&&(m=" "),e.trim([l,p,r].join(m))},parse:function(t){var n=e.trim(t);return n=n.replace(/\.\d+/,""),n=n.replace(/-/,"/").replace(/-/,"/"),n=n.replace(/T/," ").replace(/Z/," UTC"),n=n.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),n=n.replace(/([\+\-]\d\d)$/," $100"),new Date(n)},datetime:function(t){var n=r.isTime(t)?e(t).attr("datetime"):e(t).attr("title");return r.parse(n)},isTime:function(t){return"time"===e(t).get(0).tagName.toLowerCase()}});var i={init:function(){i.dispose.call(this);var n=e.proxy(t,this);n();var a=r.settings;a.refreshMillis>0&&(this._timeagoInterval=setInterval(n,a.refreshMillis))},update:function(n){var a=n instanceof Date?n:r.parse(n);e(this).data("timeago",{datetime:a}),r.settings.localeTitle&&e(this).attr("title",a.toLocaleString()),t.apply(this)},updateFromDOM:function(){e(this).data("timeago",{datetime:r.parse(r.isTime(this)?e(this).attr("datetime"):e(this).attr("title"))}),t.apply(this)},dispose:function(){this._timeagoInterval&&(window.clearInterval(this._timeagoInterval),this._timeagoInterval=null)}};e.fn.timeago=function(e,t){var n=e?i[e]:i.init;if(!n)throw new Error("Unknown function name '"+e+"' for timeago");return this.each(function(){n.call(this,t)}),this},document.createElement("abbr"),document.createElement("time")}),window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){window.setTimeout(e,1e3/60)},window.requestInterval=function(e,t){function n(){(new Date).getTime()-a>=t&&(e.call(),a=(new Date).getTime()),l.value=requestAnimFrame(n)}if(!(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame&&window.mozCancelRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame))return window.setInterval(e,t);var a=(new Date).getTime(),l={};return l.value=requestAnimFrame(n),l},window.clearRequestInterval=function(e){window.cancelAnimationFrame?window.cancelAnimationFrame(e.value):window.webkitCancelAnimationFrame?window.webkitCancelAnimationFrame(e.value):window.webkitCancelRequestAnimationFrame?window.webkitCancelRequestAnimationFrame(e.value):window.mozCancelRequestAnimationFrame?window.mozCancelRequestAnimationFrame(e.value):window.oCancelRequestAnimationFrame?window.oCancelRequestAnimationFrame(e.value):window.msCancelRequestAnimationFrame?window.msCancelRequestAnimationFrame(e.value):clearInterval(e)},window.requestTimeout=function(e,t){function n(){(new Date).getTime()-a>=t?e.call():l.value=requestAnimFrame(n)}if(!(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame&&window.mozCancelRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame))return window.setTimeout(e,t);var a=(new Date).getTime(),l={};return l.value=requestAnimFrame(n),l},window.clearRequestTimeout=function(e){window.cancelAnimationFrame?window.cancelAnimationFrame(e.value):window.webkitCancelAnimationFrame?window.webkitCancelAnimationFrame(e.value):window.webkitCancelRequestAnimationFrame?window.webkitCancelRequestAnimationFrame(e.value):window.mozCancelRequestAnimationFrame?window.mozCancelRequestAnimationFrame(e.value):window.oCancelRequestAnimationFrame?window.oCancelRequestAnimationFrame(e.value):window.msCancelRequestAnimationFrame?window.msCancelRequestAnimationFrame(e.value):clearTimeout(e)},function(e){var t={embedWindow:null,embedOrigin:null,embedLocation:null,frameID:null,scrollTimer:0,moderate:!1,inFrameModals:!1,noPostModals:!1,iframeInView:!1,embedHeightListeners:!1,visiblePostSelector:".posts .post-container"};try{t.embedSettings=JSON.parse(e.embedSettingsJSON),delete e.embedSettingsJSON}catch(e){console.error("Could not parse embed settings.")}try{t.embed=JSON.parse(e.embedJSON),delete e.embedJSON}catch(e){console.error("Could not parse embed json.")}$("script#embed-data").remove(),e.location.hash.substring(1).split("&").forEach(function(e){switch((e=e.split("="))[0]){case"id":t.frameID=e[1]}});var n=function(){var e=t.embed._id+"_"+t.embedLocation.href,n=t.cache("tgbUniqueKeys");if(n)n[e]?t.pub("logEvent",{event:"embed_view"}):(n[e]=1,t.pub("logEvent",{event:"unique_embed_view"}),t.cache("tgbUniqueKeys",n));else{t.pub("logEvent",{event:"unique_embed_view"});var a={};a[e]=1,t.cache("tgbUniqueKeys",a)}},a=function(){if(t.embedWindow){for(var n=e.document.body.children,a=0,l=0;l<n.length;l++){var r=n[l],i=r.offsetTop+r.offsetHeight;i>a&&(a=i)}t.embedWindow.postMessage("height:"+a+"&frame_id:"+t.frameID,t.embedOrigin)}};e.addEventListener("message",function(l){"height?"==l.data?(t.embedWindow=l.source,t.embedOrigin=l.origin,a(),t.embedSettings.showPostModals&&t.embedWindow.postMessage("needsModalFrame",t.embedOrigin),t.embedHeightListeners||(e.setInterval(a,400),t.sub("postsAddedToDOM",a),t.embedHeightListeners=!0)):-1!=l.data.indexOf("location:")&&(t.embedLocation=JSON.parse(l.data.substr(9)),n(),t.pub("embedLocationSet"))},!1),e.tgb=t}(window),function(e,t){t.cache=function(e,t){function n(e,t,n){var a=new Date;a.setTime(a.getTime()+24*n*60*60*1e3);var l="; expires="+a.toGMTString();document.cookie=e+"="+t+l+"; path=/"}var a=!1;if(localStorage&&(a=!0),void 0!==t&&null!==t&&("object"==typeof t&&(t=JSON.stringify(t)),a?localStorage.setItem(e,t):n(e,t,30)),void 0===t){data=a?localStorage.getItem(e):function(e){for(var t=e+"=",n=document.cookie.split(";"),a=0,l=n.length;a<l;a++){for(var r=n[a];" "===r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(t))return r.substring(t.length,r.length)}return null}(e);try{data=JSON.parse(data)}catch(e){data=data}return data}null===t&&(a?localStorage.removeItem(e):n(e,"",-1))}}(0,this.tgb),function(e,t){var n,a,l=null,r=null,i=0,o=function(e){0===e.data.indexOf("tgbModalIframe")&&(l=e.source,r&&(s(r),r=null))},s=function(o){if(l){var s={post:o.data,embedFont:n,embedTheme:a,networkFlagStyle:networkFlagStyle,customPostBackgroundColor:customPostBackgroundColor,customPostTextColor:customPostTextColor,customPostAccentColor:customPostAccentColor};l.postMessage("tgbModalObject:"+JSON.stringify(s),e.location.origin),t.pub("modalOpened",o)}else r=o,clearTimeout(i),i=setTimeout(function(){r=null,i=0},2e3)};t.ModalLauncher={init:function(){e.addEventListener("message",o,!1),t.pub("modalLauncherInitialized"),n=t.embed[t.embed.layout].font,a=t.embed[t.embed.layout].theme,networkFlagStyle=t.embed[t.embed.layout].networkFlagStyle,customPostBackgroundColor=t.embed[t.embed.layout].customPostBackgroundColor,customPostTextColor=t.embed[t.embed.layout].customPostTextColor,customPostAccentColor=t.embed[t.embed.layout].customPostAccentColor},open:s,isModalOpen:function(){return!!l&&l.isModalOpen()}}}(window,window.tgb),function(e,t){"use strict";var n=t({}),a=function(e){return"tgb:"+e},l={pub:function(e,t){n.trigger(a(e),t)},sub:function(e,t){n.on(a(e),t)},unsub:function(e,t){n.off(a(e),t)}};t.extend(e,l)}(window.tgb,jQuery),function(e,t){var n=[],a=function(e,n){data={owner_id:t.embed.owner,embed_id:t.embed._id,layout:t.embed.layout,url:t.embedLocation.origin,path:t.embedLocation.pathname,action:e},n&&(data.post_id=n.post_id,data.network=n.network),$.ajax({type:"POST",contentType:"application/json",url:"https://event-logger.tagboard.com/event/card",data:JSON.stringify(data)})},l=function(e,t){n.push({event:e,post:t})},r=function(e,n){n.tab&&!n.tab.isActive()||setTimeout(function(){$(t.visiblePostSelector).each(function(){var e=$(this).data().post;t.pub("logPostView",{post:e})})},0)};-1!==e.location.search.indexOf("nostats")||(t.sub("logEvent",function(e,t){l(t.event,t.post)}),t.sub("logPostView",function(e,n){var a=n.post;a.viewLogged||(a.viewLogged=!0,t.pub("logEvent",{event:"view",post:a.data}))}),t.sub("postsAddedToDOM",r),t.sub("tabChanged",r),t.sub("embedLocationSet",function(){l=a,n.forEach(function(e){a(e.event,e.post)}),n=[]}))}(window,window.tgb),function(e,t){t.registerHelper("compare",function(e,t,n,a){var l;if(arguments.length<3)throw new Error("Handlerbars Helper 'compare' needs 2 parameters");if(void 0===a&&(a=n,n=t,t="==="),!(l={"==":function(e,t){return e==t},"===":function(e,t){return e===t},"!=":function(e,t){return e!=t},"!==":function(e,t){return e!==t},"<":function(e,t){return e<t},">":function(e,t){return e>t},"<=":function(e,t){return e<=t},">=":function(e,t){return e>=t},"||":function(e,t){return e||t},typeof:function(e,t){return typeof e==t}})[t])throw new Error("Handlerbars Helper 'compare' doesn't know the operator "+t);return l[t](e,n)?a.fn(this):a.inverse(this)}),t.registerHelper("match",function(e,t,n){return-1!==t.split(",").indexOf(e)?n.fn(this):n.inverse(this)}),t.registerHelper("no_match",function(e,t,n){return-1===t.split(",").indexOf(e)?n.fn(this):n.inverse(this)}),t.registerHelper("trimString",function(e){return"string"==typeof e&&e.trim()||e}),t.registerHelper("photoUrl",function(e){switch(e.network){case"instagram":return(e.permalink+"media/?size=l").replace(/.*?:\/\//g,"//");default:return(e.photos[0].l||e.photos[0].m).replace(/.*?:\/\//g,"//")}}),t.registerHelper("userURL",function(e){var t;switch(e.network){case"twitter":t="https://twitter.com/"+e.user_name;break;case"instagram":t="https://instagram.com/"+e.user_name;break;case"facebook":t="https://facebook.com/"+e.user_id;break;case"vine":t="http://vine.co/u/"+e.user_name;break;case"googleplus":t="https://plus.google.com/"+e.user_id;break;case"flickr":t="https://flickr.com/"+e.user_name;break;case"youtube":t=e.user_name?"https://youtube.com/user/"+e.user_name:"https://youtube.com/channel/"+e.user_id;break;case"periscope":t="https://periscope.tv/"+e.user_name}return t}),t.registerHelper("checkParams",function(e){return-1==e.indexOf("?")?e+"?":e+"&"}),t.registerHelper("nestedPartial",function(e,t){var n="views/partials/"+e+".hbs";return tgbTemplates[n](t)}),t.registerHelper("formatTimestamp",function(e){var t=new Array("Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"),n=new Date(1e3*parseInt(e.post_time,10)),a=n.getHours(),l=a>=12?"pm":"am";0===a?a=12:a>12&&(a-=12);for(var r=""+n.getMinutes();r.length<2;)r="0"+r;return n.getDate()+" "+t[n.getMonth()]+" "+a+":"+r+l})}(window.tgb,window.Handlebars),this.tgbTemplates=this.tgbTemplates||{},this.tgbTemplates["views/partials/posts/ctaLink.hbs"]=Handlebars.template({1:function(e,t,n,a,l){var r;return null!=(r=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.cta:t,{name:"if",hash:{},fn:e.program(2,l,0),inverse:e.noop,data:l}))?r:""},2:function(e,t,n,a,l){var r,i,o=e.lambda,s=e.escapeExpression,u=null!=t?t:e.nullContext||{},c=n.helperMissing;return'  <div class="cta-link-preview '+s(o(null!=(r=null!=t?t.cta:t)?r.link_preview:r,t))+'">\n'+(null!=(r=(n.compare||t&&t.compare||c).call(u,null!=(r=null!=t?t.cta:t)?r.link_preview:r,"!=","none",{name:"compare",hash:{},fn:e.program(3,l,0),inverse:e.noop,data:l}))?r:"")+'    <div class="text-center '+s(o(null!=(r=null!=t?t.cta:t)?r.cta_type:r,t))+'">\n      <a href="'+s((n.checkParams||t&&t.checkParams||c).call(u,null!=(r=null!=t?t.cta:t)?r.url:r,{name:"checkParams",hash:{},data:l}))+"utm_source=tagboard&utm_medium=card-cta&utm_content="+s("function"==typeof(i=null!=(i=n.tagboardId||(null!=t?t.tagboardId:t))?i:c)?i.call(u,{name:"tagboardId",hash:{},data:l}):i)+"-"+s("function"==typeof(i=null!=(i=n.network||(null!=t?t.network:t))?i:c)?i.call(u,{name:"network",hash:{},data:l}):i)+"-"+s("function"==typeof(i=null!=(i=n.post_id||(null!=t?t.post_id:t))?i:c)?i.call(u,{name:"post_id",hash:{},data:l}):i)+"&utm_campaign="+(null!=(r=n.if.call(u,null!=(r=null!=t?t.cta:t)?r.utm_campaign_name:r,{name:"if",hash:{},fn:e.program(4,l,0),inverse:e.program(6,l,0),data:l}))?r:"")+'" target="_blank" class="btn btn-default btn-lg">\n          <i class="icon icon-cta-'+s(o(null!=(r=null!=t?t.cta:t)?r.cta_icon:r,t))+'"></i>\n          '+s(o(null!=(r=null!=t?t.cta:t)?r.cta_text:r,t))+"\n      </a>\n    </div>\n  </div>\n"},3:function(e,t,n,a,l){var r,i,o=null!=t?t:e.nullContext||{},s=n.helperMissing,u=e.escapeExpression,c=e.lambda;return'      <a href="'+u((n.checkParams||t&&t.checkParams||s).call(o,null!=(r=null!=t?t.cta:t)?r.url:r,{name:"checkParams",hash:{},data:l}))+"utm_source=tagboard&utm_medium=card-cta&utm_content="+u("function"==typeof(i=null!=(i=n.tagboardId||(null!=t?t.tagboardId:t))?i:s)?i.call(o,{name:"tagboardId",hash:{},data:l}):i)+"-"+u("function"==typeof(i=null!=(i=n.network||(null!=t?t.network:t))?i:s)?i.call(o,{name:"network",hash:{},data:l}):i)+"-"+u("function"==typeof(i=null!=(i=n.post_id||(null!=t?t.post_id:t))?i:s)?i.call(o,{name:"post_id",hash:{},data:l}):i)+"&utm_campaign="+(null!=(r=n.if.call(o,null!=(r=null!=t?t.cta:t)?r.utm_campaign_name:r,{name:"if",hash:{},fn:e.program(4,l,0),inverse:e.program(6,l,0),data:l}))?r:"")+'" target="_blank">\n        <div class="link-wrapper clearfix">\n          <div class="image-wrapper" style="background-image: url('+u(c(null!=(r=null!=t?t.cta:t)?r.image_url:r,t))+')"></div>\n          <div class="meta-wrap">\n            <h1 class="title">'+u(c(null!=(r=null!=t?t.cta:t)?r.title:r,t))+'</h1>\n            <p class="card-description">'+u(c(null!=(r=null!=t?t.cta:t)?r.description:r,t))+'</p>\n            <p class="small">'+u((n.urlShortener||t&&t.urlShortener||s).call(o,null!=(r=null!=t?t.cta:t)?r.url:r,{name:"urlShortener",hash:{},data:l}))+"</p>\n          </div>\n        </div>\n      </a>\n"},4:function(e,t,n,a,l){var r;return e.escapeExpression(e.lambda(null!=(r=null!=t?t.cta:t)?r.utm_campaign_name:r,t))},6:function(e,t,n,a,l){var r;return e.escapeExpression("function"==typeof(r=null!=(r=n.hashtag||(null!=t?t.hashtag:t))?r:n.helperMissing)?r.call(null!=t?t:e.nullContext||{},{name:"hashtag",hash:{},data:l}):r)},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,l){var r;return null!=(r=n.unless.call(null!=t?t:e.nullContext||{},null!=t?t.hide_cta:t,{name:"unless",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l}))?r:""},useData:!0}),this.tgbTemplates["views/partials/posts/grid.hbs"]=Handlebars.template({1:function(e,t,n,a,l){return" has-media"},3:function(e,t,n,a,l){return" has-comment"},5:function(e,t,n,a,l){return"has-cta"},7:function(e,t,n,a,l){return" has-location"},9:function(e,t,n,a,l){var r,i,o=null!=t?t:e.nullContext||{},s=n.helperMissing,u=e.escapeExpression,c="function";return'        <a class="user-img" href="'+u((n.userURL||t&&t.userURL||s).call(o,t,{name:"userURL",hash:{},data:l}))+'" target="_blank" rel="noopener" title="View '+u(typeof(i=null!=(i=n.user_real_name||(null!=t?t.user_real_name:t))?i:s)===c?i.call(o,{name:"user_real_name",hash:{},data:l}):i)+" (@"+u(typeof(i=null!=(i=n.user_name||(null!=t?t.user_name:t))?i:s)===c?i.call(o,{name:"user_name",hash:{},data:l}):i)+')\'s profile">\n          <img src="'+u(typeof(i=null!=(i=n.user_profile_image_url||(null!=t?t.user_profile_image_url:t))?i:s)===c?i.call(o,{name:"user_profile_image_url",hash:{},data:l}):i)+'" alt="User avatar">\n        </a>\n        <a class="username" href="'+u((n.userURL||t&&t.userURL||s).call(o,t,{name:"userURL",hash:{},data:l}))+'" target="_blank" rel="noopener" title="View '+u(typeof(i=null!=(i=n.user_real_name||(null!=t?t.user_real_name:t))?i:s)===c?i.call(o,{name:"user_real_name",hash:{},data:l}):i)+" (@"+u(typeof(i=null!=(i=n.user_name||(null!=t?t.user_name:t))?i:s)===c?i.call(o,{name:"user_name",hash:{},data:l}):i)+')\'s profile">\n          <span class="author'+(null!=(r=n.if.call(o,null!=(r=null!=t?t.service_meta:t)?r.user_verified:r,{name:"if",hash:{},fn:e.program(10,l,0),inverse:e.noop,data:l}))?r:"")+'">'+u(typeof(i=null!=(i=n.user_real_name||(null!=t?t.user_real_name:t))?i:s)===c?i.call(o,{name:"user_real_name",hash:{},data:l}):i)+'</span>\n          <span class="handle">@'+u(typeof(i=null!=(i=n.user_name||(null!=t?t.user_name:t))?i:s)===c?i.call(o,{name:"user_name",hash:{},data:l}):i)+"</span>\n        </a>\n"},10:function(e,t,n,a,l){return" verified"},12:function(e,t,n,a,l){var r,i=null!=t?t:e.nullContext||{},o=n.helperMissing;return"        "+(null!=(r=(n.match||t&&t.match||o).call(i,null!=t?t.network:t,"instagram",{name:"match",hash:{},fn:e.program(13,l,0),inverse:e.program(15,l,0),data:l}))?r:"")+'\n        <a class="username" href="'+e.escapeExpression((n.userURL||t&&t.userURL||o).call(i,t,{name:"userURL",hash:{},data:l}))+'" target="_blank" rel="noopener" title="View '+(null!=(r=(n.match||t&&t.match||o).call(i,null!=t?t.network:t,"instagram",{name:"match",hash:{},fn:e.program(16,l,0),inverse:e.program(18,l,0),data:l}))?r:"")+'\'s profile">\n          <span class="author'+(null!=(r=n.if.call(i,null!=(r=null!=t?t.service_meta:t)?r.user_verified:r,{name:"if",hash:{},fn:e.program(10,l,0),inverse:e.noop,data:l}))?r:"")+'">'+(null!=(r=(n.match||t&&t.match||o).call(i,null!=t?t.network:t,"instagram",{name:"match",hash:{},fn:e.program(16,l,0),inverse:e.program(18,l,0),data:l}))?r:"")+"</span>\n        </a>\n"},13:function(e,t,n,a,l){return""},15:function(e,t,n,a,l){var r,i,o=null!=t?t:e.nullContext||{},s=n.helperMissing,u=e.escapeExpression;return'<a class="user-img" href="'+u((n.userURL||t&&t.userURL||s).call(o,t,{name:"userURL",hash:{},data:l}))+'" target="_blank" rel="noopener" title="View '+(null!=(r=(n.match||t&&t.match||s).call(o,null!=t?t.network:t,"instagram",{name:"match",hash:{},fn:e.program(16,l,0),inverse:e.program(18,l,0),data:l}))?r:"")+'\'s profile">\n          <img src="'+u("function"==typeof(i=null!=(i=n.user_profile_image_url||(null!=t?t.user_profile_image_url:t))?i:s)?i.call(o,{name:"user_profile_image_url",hash:{},data:l}):i)+'" alt="User avatar">\n        </a>'},16:function(e,t,n,a,l){var r;return e.escapeExpression("function"==typeof(r=null!=(r=n.user_name||(null!=t?t.user_name:t))?r:n.helperMissing)?r.call(null!=t?t:e.nullContext||{},{name:"user_name",hash:{},data:l}):r)},18:function(e,t,n,a,l){var r;return e.escapeExpression("function"==typeof(r=null!=(r=n.user_real_name||(null!=t?t.user_real_name:t))?r:n.helperMissing)?r.call(null!=t?t:e.nullContext||{},{name:"user_real_name",hash:{},data:l}):r)},20:function(e,t,n,a,l){var r,i=null!=t?t:e.nullContext||{},o=n.helperMissing,s=e.escapeExpression;return'        <span>Comment posted <a class="timestamp timeago" href="'+s("function"==typeof(r=null!=(r=n.permalink||(null!=t?t.permalink:t))?r:o)?r.call(i,{name:"permalink",hash:{},data:l}):r)+'" target="_blank" rel="noopener" title="'+s("function"==typeof(r=null!=(r=n.post_time||(null!=t?t.post_time:t))?r:o)?r.call(i,{name:"post_time",hash:{},data:l}):r)+'"></a></span>\n'},22:function(e,t,n,a,l){var r;return null!=(r=(n.match||t&&t.match||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.network:t,"instagram,facebook,googleplus",{name:"match",hash:{},fn:e.program(23,l,0),inverse:e.program(25,l,0),data:l}))?r:""},23:function(e,t,n,a,l){var r,i=null!=t?t:e.nullContext||{},o=n.helperMissing,s=e.escapeExpression;return'          <a class="timestamp timeago" href="'+s("function"==typeof(r=null!=(r=n.permalink||(null!=t?t.permalink:t))?r:o)?r.call(i,{name:"permalink",hash:{},data:l}):r)+'" target="_blank" rel="noopener" title="'+s("function"==typeof(r=null!=(r=n.post_time||(null!=t?t.post_time:t))?r:o)?r.call(i,{name:"post_time",hash:{},data:l}):r)+'"></a>\n'},25:function(e,t,n,a,l){var r,i=null!=t?t:e.nullContext||{},o=n.helperMissing,s=e.escapeExpression;return'          <a class="timestamp" href="'+s("function"==typeof(r=null!=(r=n.permalink||(null!=t?t.permalink:t))?r:o)?r.call(i,{name:"permalink",hash:{},data:l}):r)+'" target="_blank" rel="noopener" title="'+s((n.formatTimestamp||t&&t.formatTimestamp||o).call(i,t,{name:"formatTimestamp",hash:{},data:l}))+'">'+s((n.formatTimestamp||t&&t.formatTimestamp||o).call(i,t,{name:"formatTimestamp",hash:{},data:l}))+"</a>\n"},27:function(e,t,n,a,l){var r;return null!=(r=(n.match||t&&t.match||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.network:t,"youtube",{name:"match",hash:{},fn:e.program(28,l,0),inverse:e.program(31,l,0),data:l}))?r:""},28:function(e,t,n,a,l){var r,i,o=null!=t?t:e.nullContext||{},s=e.escapeExpression;return"\n"+(null!=(r=n.unless.call(o,null!=(r=null!=t?t.settings:t)?r.cropImages:r,{name:"unless",hash:{},fn:e.program(29,l,0),inverse:e.noop,data:l}))?r:"")+'\n        <div class="media video" style="background-image: url('+s(e.lambda(null!=(r=null!=(r=null!=t?t.videos:t)?r[0]:r)?r.t:r,t))+');" title="'+s("function"==typeof(i=null!=(i=n.user_real_name||(null!=t?t.user_real_name:t))?i:n.helperMissing)?i.call(o,{name:"user_real_name",hash:{},data:l}):i)+'\'s video">\n          <div class="play-btn" title="Play video"><span class="icon icon-play"></span></div>\n        </div>\n\n'},29:function(e,t,n,a,l){var r;return'          <div class="blurred-cover-container">\n            <div class="blurred-cover" style="background-image: url('+e.escapeExpression(e.lambda(null!=(r=null!=(r=null!=t?t.videos:t)?r[0]:r)?r.t:r,t))+');"></div>\n          </div>\n'},31:function(e,t,n,a,l){var r,i=null!=t?t:e.nullContext||{};return"\n"+(null!=(r=n.unless.call(i,null!=(r=null!=t?t.settings:t)?r.cropImages:r,{name:"unless",hash:{},fn:e.program(32,l,0),inverse:e.noop,data:l}))?r:"")+"\n"+(null!=(r=(n.match||t&&t.match||n.helperMissing).call(i,null!=t?t.network:t,"twitter,periscope",{name:"match",hash:{},fn:e.program(37,l,0),inverse:e.program(51,l,0),data:l}))?r:"")+"\n"},32:function(e,t,n,a,l){var r;return'          <div class="blurred-cover-container">\n            <div class="blurred-cover" style="background-image: url('+(null!=(r=(n.match||t&&t.match||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.network:t,"instagram",{name:"match",hash:{},fn:e.program(33,l,0),inverse:e.program(35,l,0),data:l}))?r:"")+');"></div>\n          </div>\n'},33:function(e,t,n,a,l){return e.escapeExpression((n.photoUrl||t&&t.photoUrl||n.helperMissing).call(null!=t?t:e.nullContext||{},t,{name:"photoUrl",hash:{},data:l}))},35:function(e,t,n,a,l){var r;return e.escapeExpression(e.lambda(null!=(r=null!=(r=null!=t?t.videos:t)?r[0]:r)?r.p:r,t))},37:function(e,t,n,a,l){var r,i,o=e.escapeExpression,s=null!=t?t:e.nullContext||{},u=n.helperMissing;return'          <div class="media video '+o(e.lambda(null!=(r=null!=(r=null!=t?t.videos:t)?r[0]:r)?r.type:r,t))+'" '+(null!=(r=n.if.call(s,null!=(r=null!=t?t.service_meta:t)?r.published_live:r,{name:"if",hash:{},fn:e.program(38,l,0),inverse:e.noop,data:l}))?r:"")+" "+(null!=(r=(n.compare||t&&t.compare||u).call(s,null!=(r=null!=(r=null!=t?t.videos:t)?r[0]:r)?r.type:r,"!==","gif",{name:"compare",hash:{},fn:e.program(40,l,0),inverse:e.noop,data:l}))?r:"")+' title="'+o("function"==typeof(i=null!=(i=n.user_real_name||(null!=t?t.user_real_name:t))?i:u)?i.call(s,{name:"user_real_name",hash:{},data:l}):i)+" (@"+o("function"==typeof(i=null!=(i=n.user_name||(null!=t?t.user_name:t))?i:u)?i.call(s,{name:"user_name",hash:{},data:l}):i)+")'s "+(null!=(r=(n.compare||t&&t.compare||u).call(s,null!=(r=null!=(r=null!=t?t.videos:t)?r[0]:r)?r.type:r,"===","gif",{name:"compare",hash:{},fn:e.program(42,l,0),inverse:e.program(44,l,0),data:l}))?r:"")+'">\n'+(null!=(r=(n.compare||t&&t.compare||u).call(s,null!=(r=null!=(r=null!=t?t.videos:t)?r[0]:r)?r.type:r,"===","gif",{name:"compare",hash:{},fn:e.program(46,l,0),inverse:e.program(48,l,0),data:l}))?r:"")+"          </div>\n"},38:function(e,t,n,a,l){var r;return'data-live-video="'+e.escapeExpression(e.lambda(null!=(r=null!=(r=null!=t?t.videos:t)?r[0]:r)?r.m:r,t))+'"'},40:function(e,t,n,a,l){var r;return'style="background-image: url('+e.escapeExpression(e.lambda(null!=(r=null!=(r=null!=t?t.videos:t)?r[0]:r)?r.p:r,t))+');"'},42:function(e,t,n,a,l){return"gif"},44:function(e,t,n,a,l){return"video"},46:function(e,t,n,a,l){var r,i=e.lambda,o=e.escapeExpression;return'              <video type="video/mp4" autoplay loop muted poster="'+o(i(null!=(r=null!=(r=null!=t?t.videos:t)?r[0]:r)?r.p:r,t))+'" src="'+o(i(null!=(r=null!=(r=null!=t?t.videos:t)?r[0]:r)?r.m:r,t))+'" alt="gif"></video>\n'},48:function(e,t,n,a,l){var r;return"              "+(null!=(r=n.if.call(null!=t?t:e.nullContext||{},null!=(r=null!=t?t.service_meta:t)?r.published_live:r,{name:"if",hash:{},fn:e.program(49,l,0),inverse:e.noop,data:l}))?r:"")+'\n              <div class="play-btn" title="Play video"><span class="icon icon-play"></span></div>\n'},49:function(e,t,n,a,l){return'<div class="live-badge">LIVE</div>'},51:function(e,t,n,a,l){var r,i=null!=t?t:e.nullContext||{},o=n.helperMissing;return'          <div class="media video '+e.escapeExpression(e.lambda(null!=(r=null!=(r=null!=t?t.videos:t)?r[0]:r)?r.type:r,t))+'" '+(null!=(r=n.if.call(i,null!=(r=null!=t?t.service_meta:t)?r.published_live:r,{name:"if",hash:{},fn:e.program(38,l,0),inverse:e.noop,data:l}))?r:"")+" "+(null!=(r=(n.compare||t&&t.compare||o).call(i,null!=(r=null!=(r=null!=t?t.videos:t)?r[0]:r)?r.type:r,"!==","gif",{name:"compare",hash:{},fn:e.program(52,l,0),inverse:e.noop,data:l}))?r:"")+' title="'+(null!=(r=(n.match||t&&t.match||o).call(i,null!=t?t.network:t,"instagram",{name:"match",hash:{},fn:e.program(16,l,0),inverse:e.program(18,l,0),data:l}))?r:"")+"'s "+(null!=(r=(n.compare||t&&t.compare||o).call(i,null!=(r=null!=(r=null!=t?t.videos:t)?r[0]:r)?r.type:r,"===","gif",{name:"compare",hash:{},fn:e.program(42,l,0),inverse:e.program(44,l,0),data:l}))?r:"")+'">\n'+(null!=(r=(n.compare||t&&t.compare||o).call(i,null!=(r=null!=(r=null!=t?t.videos:t)?r[0]:r)?r.type:r,"===","gif",{name:"compare",hash:{},fn:e.program(54,l,0),inverse:e.program(48,l,0),data:l}))?r:"")+"          </div>\n"},52:function(e,t,n,a,l){var r;return'style="background-image: url('+(null!=(r=(n.match||t&&t.match||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.network:t,"instagram",{name:"match",hash:{},fn:e.program(33,l,0),inverse:e.program(35,l,0),data:l}))?r:"")+');"'},54:function(e,t,n,a,l){var r,i=e.lambda,o=e.escapeExpression;return'              <video type="video/mp4" loop muted poster="'+o(i(null!=(r=null!=(r=null!=t?t.videos:t)?r[0]:r)?r.p:r,t))+'" src="'+o(i(null!=(r=null!=(r=null!=t?t.videos:t)?r[0]:r)?r.m:r,t))+'" alt="gif"></video>\n'},56:function(e,t,n,a,l){var r;return null!=(r=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.photos:t,{name:"if",hash:{},fn:e.program(57,l,0),inverse:e.noop,data:l}))?r:""},57:function(e,t,n,a,l){var r,i=null!=t?t:e.nullContext||{};return"\n"+(null!=(r=n.unless.call(i,null!=(r=null!=t?t.settings:t)?r.cropImages:r,{name:"unless",hash:{},fn:e.program(58,l,0),inverse:e.noop,data:l}))?r:"")+"\n"+(null!=(r=(n.match||t&&t.match||n.helperMissing).call(i,null!=t?t.network:t,"twitter,periscope",{name:"match",hash:{},fn:e.program(60,l,0),inverse:e.program(62,l,0),data:l}))?r:"")+"\n"},58:function(e,t,n,a,l){return'          <div class="blurred-cover-container">\n            <div class="blurred-cover" style="background-image: url('+e.escapeExpression((n.photoUrl||t&&t.photoUrl||n.helperMissing).call(null!=t?t:e.nullContext||{},t,{name:"photoUrl",hash:{},data:l}))+');"></div>\n          </div>\n'},60:function(e,t,n,a,l){var r,i=null!=t?t:e.nullContext||{},o=n.helperMissing,s=e.escapeExpression;return'          <div class="media image" style="background-image: url('+s((n.photoUrl||t&&t.photoUrl||o).call(i,t,{name:"photoUrl",hash:{},data:l}))+');" title="'+s("function"==typeof(r=null!=(r=n.user_real_name||(null!=t?t.user_real_name:t))?r:o)?r.call(i,{name:"user_real_name",hash:{},data:l}):r)+" (@"+s("function"==typeof(r=null!=(r=n.user_name||(null!=t?t.user_name:t))?r:o)?r.call(i,{name:"user_name",hash:{},data:l}):r)+")'s photo\"></div>\n"},62:function(e,t,n,a,l){var r,i=null!=t?t:e.nullContext||{},o=n.helperMissing;return'          <div class="media image" style="background-image: url('+e.escapeExpression((n.photoUrl||t&&t.photoUrl||o).call(i,t,{name:"photoUrl",hash:{},data:l}))+');" title="'+(null!=(r=(n.match||t&&t.match||o).call(i,null!=t?t.network:t,"instagram",{name:"match",hash:{},fn:e.program(16,l,0),inverse:e.program(18,l,0),data:l}))?r:"")+"'s photo\"></div>\n"},64:function(e,t,n,a,l){var r,i;return'        <p class="caption">'+(null!=(r="function"==typeof(i=null!=(i=n.caption||(null!=t?t.caption:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"caption",hash:{},data:l}):i)?r:"")+"</p>\n"},66:function(e,t,n,a,l){var r;return'        <p class="html-summary">'+(null!=(r=(n.trimString||t&&t.trimString||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.html_summary:t,{name:"trimString",hash:{},data:l}))?r:"")+"&nbsp;&hellip;</p>\n"},68:function(e,t,n,a,l){var r;return null!=(r=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.html:t,{name:"if",hash:{},fn:e.program(69,l,0),inverse:e.noop,data:l}))?r:""},69:function(e,t,n,a,l){var r,i;return'        <p class="html">'+(null!=(r="function"==typeof(i=null!=(i=n.html||(null!=t?t.html:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"html",hash:{},data:l}):i)?r:"")+"</p>\n"},71:function(e,t,n,a,l){var r,i=null!=t?t:e.nullContext||{},o=n.helperMissing,s=e.escapeExpression;return'      <div class="post-actions">\n        <a class="twitter-action reply" href="https://twitter.com/intent/tweet?in_reply_to='+s("function"==typeof(r=null!=(r=n.post_id||(null!=t?t.post_id:t))?r:o)?r.call(i,{name:"post_id",hash:{},data:l}):r)+'" target="_blank" rel="noopener" title="Reply"><span class="icon icon-twitter-reply"></span></a>\n        <a class="twitter-action retweet" href="https://twitter.com/intent/retweet?tweet_id='+s("function"==typeof(r=null!=(r=n.post_id||(null!=t?t.post_id:t))?r:o)?r.call(i,{name:"post_id",hash:{},data:l}):r)+'" target="_blank" rel="noopener" title="Retweet"><span class="icon icon-twitter-retweet"></span></a>\n        <a class="twitter-action like" href="https://twitter.com/intent/like?tweet_id='+s("function"==typeof(r=null!=(r=n.post_id||(null!=t?t.post_id:t))?r:o)?r.call(i,{name:"post_id",hash:{},data:l}):r)+'" target="_blank" rel="noopener" title="Like"><span class="icon icon-twitter-like"></span></a>\n      </div>\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,l){var r,i,o=null!=t?t:e.nullContext||{},s=n.helperMissing,u=e.escapeExpression;return'<div class="grid post-container '+u("function"==typeof(i=null!=(i=n.network||(null!=t?t.network:t))?i:s)?i.call(o,{name:"network",hash:{},data:l}):i)+(null!=(r=(n.match||t&&t.match||s).call(o,null!=t?t.post_type:t,"photo,video",{name:"match",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l}))?r:"")+" "+u("function"==typeof(i=null!=(i=n.post_type||(null!=t?t.post_type:t))?i:s)?i.call(o,{name:"post_type",hash:{},data:l}):i)+" "+(null!=(r=n.if.call(o,null!=(r=null!=t?t.tgb_meta:t)?r.isComment:r,{name:"if",hash:{},fn:e.program(3,l,0),inverse:e.noop,data:l}))?r:"")+" "+(null!=(r=n.if.call(o,null!=t?t.cta:t,{name:"if",hash:{},fn:e.program(5,l,0),inverse:e.noop,data:l}))?r:"")+'">\n\n  <div class="post">\n\n    <div class="meta-author'+(null!=(r=n.if.call(o,null!=t?t.location:t,{name:"if",hash:{},fn:e.program(7,l,0),inverse:e.noop,data:l}))?r:"")+'">\n'+(null!=(r=(n.match||t&&t.match||s).call(o,null!=t?t.network:t,"twitter,periscope",{name:"match",hash:{},fn:e.program(9,l,0),inverse:e.program(12,l,0),data:l}))?r:"")+'    </div>\n\n    <div class="post-time">\n'+(null!=(r=n.if.call(o,null!=(r=null!=t?t.tgb_meta:t)?r.isComment:r,{name:"if",hash:{},fn:e.program(20,l,0),inverse:e.program(22,l,0),data:l}))?r:"")+"    </div>\n\n"+(null!=(r=n.if.call(o,null!=t?t.videos:t,{name:"if",hash:{},fn:e.program(27,l,0),inverse:e.program(56,l,0),data:l}))?r:"")+'\n    <div class="message">\n'+(null!=(r=n.if.call(o,null!=t?t.caption:t,{name:"if",hash:{},fn:e.program(64,l,0),inverse:e.noop,data:l}))?r:"")+(null!=(r=n.if.call(o,null!=t?t.html_summary:t,{name:"if",hash:{},fn:e.program(66,l,0),inverse:e.program(68,l,0),data:l}))?r:"")+"    </div>\n\n"+(null!=(r=(n.match||t&&t.match||s).call(o,null!=t?t.network:t,"twitter",{name:"match",hash:{},fn:e.program(71,l,0),inverse:e.noop,data:l}))?r:"")+'\n    <div class="origin-flag icon icon-'+u("function"==typeof(i=null!=(i=n.network||(null!=t?t.network:t))?i:s)?i.call(o,{name:"network",hash:{},data:l}):i)+'"></div>\n\n  </div>\n\n  '+(null!=(r=(n.nestedPartial||t&&t.nestedPartial||s).call(o,"posts/ctaLink",t,{name:"nestedPartial",hash:{},data:l}))?r:"")+"\n</div>\n"},useData:!0}),this.tgbTemplates["views/partials/posts/waterfall.hbs"]=Handlebars.template({1:function(e,t,n,a,l){return" has-media"},3:function(e,t,n,a,l){return" has-comment"},5:function(e,t,n,a,l){return"has-cta"},7:function(e,t,n,a,l){var r;return"\n"+(null!=(r=(n.match||t&&t.match||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.network:t,"youtube",{name:"match",hash:{},fn:e.program(8,l,0),inverse:e.program(10,l,0),data:l}))?r:"")+"\n"},8:function(e,t,n,a,l){var r,i,o=e.escapeExpression;return'\n        <div class="media video">\n          <img src="'+o(e.lambda(null!=(r=null!=(r=null!=t?t.videos:t)?r[0]:r)?r.t:r,t))+'" alt="Video poster" title="'+o("function"==typeof(i=null!=(i=n.user_real_name||(null!=t?t.user_real_name:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"user_real_name",hash:{},data:l}):i)+'\'s video">\n          <div class="play-btn" title="Play video"><span class="icon icon-play"></span></div>\n        </div>\n\n'},10:function(e,t,n,a,l){var r,i=null!=t?t:e.nullContext||{};return'\n        <div class="media video '+e.escapeExpression(e.lambda(null!=(r=null!=(r=null!=t?t.videos:t)?r[0]:r)?r.type:r,t))+'" '+(null!=(r=n.if.call(i,null!=(r=null!=t?t.service_meta:t)?r.published_live:r,{name:"if",hash:{},fn:e.program(11,l,0),inverse:e.noop,data:l}))?r:"")+">\n"+(null!=(r=(n.match||t&&t.match||n.helperMissing).call(i,null!=t?t.network:t,"twitter,periscope",{name:"match",hash:{},fn:e.program(13,l,0),inverse:e.program(19,l,0),data:l}))?r:"")+"        </div>\n\n"},11:function(e,t,n,a,l){var r;return'data-live-video="'+e.escapeExpression(e.lambda(null!=(r=null!=(r=null!=t?t.videos:t)?r[0]:r)?r.m:r,t))+'"'},13:function(e,t,n,a,l){var r;return null!=(r=(n.compare||t&&t.compare||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=(r=null!=(r=null!=t?t.videos:t)?r[0]:r)?r.type:r,"===","gif",{name:"compare",hash:{},fn:e.program(14,l,0),inverse:e.program(16,l,0),data:l}))?r:""},14:function(e,t,n,a,l){var r,i,o=e.lambda,s=e.escapeExpression,u=null!=t?t:e.nullContext||{},c=n.helperMissing;return'              <video type="video/mp4" autoplay loop muted poster="'+s(o(null!=(r=null!=(r=null!=t?t.videos:t)?r[0]:r)?r.p:r,t))+'" src="'+s(o(null!=(r=null!=(r=null!=t?t.videos:t)?r[0]:r)?r.m:r,t))+'" alt="gif" title="'+s("function"==typeof(i=null!=(i=n.user_real_name||(null!=t?t.user_real_name:t))?i:c)?i.call(u,{name:"user_real_name",hash:{},data:l}):i)+" (@"+s("function"==typeof(i=null!=(i=n.user_name||(null!=t?t.user_name:t))?i:c)?i.call(u,{name:"user_name",hash:{},data:l}):i)+")'s gif\"></video>\n"},16:function(e,t,n,a,l){var r,i,o=null!=t?t:e.nullContext||{},s=e.escapeExpression,u=n.helperMissing;return"              "+(null!=(r=n.if.call(o,null!=(r=null!=t?t.service_meta:t)?r.published_live:r,{name:"if",hash:{},fn:e.program(17,l,0),inverse:e.noop,data:l}))?r:"")+'\n              <img src="'+s(e.lambda(null!=(r=null!=(r=null!=t?t.videos:t)?r[0]:r)?r.p:r,t))+'" alt="video" title="'+s("function"==typeof(i=null!=(i=n.user_real_name||(null!=t?t.user_real_name:t))?i:u)?i.call(o,{name:"user_real_name",hash:{},data:l}):i)+" (@"+s("function"==typeof(i=null!=(i=n.user_name||(null!=t?t.user_name:t))?i:u)?i.call(o,{name:"user_name",hash:{},data:l}):i)+')\'s video">\n              <div class="play-btn" title="Play video"><span class="icon icon-play"></span></div>\n'},17:function(e,t,n,a,l){return'<div class="live-badge">LIVE</div>'},19:function(e,t,n,a,l){var r;return null!=(r=(n.compare||t&&t.compare||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=(r=null!=(r=null!=t?t.videos:t)?r[0]:r)?r.type:r,"===","gif",{name:"compare",hash:{},fn:e.program(20,l,0),inverse:e.program(25,l,0),data:l}))?r:""},20:function(e,t,n,a,l){var r,i=e.lambda,o=e.escapeExpression;return'              <video type="video/mp4" autoplay loop muted poster="'+o(i(null!=(r=null!=(r=null!=t?t.videos:t)?r[0]:r)?r.p:r,t))+'" src="'+o(i(null!=(r=null!=(r=null!=t?t.videos:t)?r[0]:r)?r.m:r,t))+'" alt="gif" title="'+(null!=(r=(n.match||t&&t.match||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.network:t,"instagram",{name:"match",hash:{},fn:e.program(21,l,0),inverse:e.program(23,l,0),data:l}))?r:"")+"'s gif\"></video>\n"},21:function(e,t,n,a,l){var r;return e.escapeExpression("function"==typeof(r=null!=(r=n.user_name||(null!=t?t.user_name:t))?r:n.helperMissing)?r.call(null!=t?t:e.nullContext||{},{name:"user_name",hash:{},data:l}):r)},23:function(e,t,n,a,l){var r;return e.escapeExpression("function"==typeof(r=null!=(r=n.user_real_name||(null!=t?t.user_real_name:t))?r:n.helperMissing)?r.call(null!=t?t:e.nullContext||{},{name:"user_real_name",hash:{},data:l}):r)},25:function(e,t,n,a,l){var r,i=null!=t?t:e.nullContext||{},o=n.helperMissing;return"              "+(null!=(r=n.if.call(i,null!=(r=null!=t?t.service_meta:t)?r.published_live:r,{name:"if",hash:{},fn:e.program(17,l,0),inverse:e.noop,data:l}))?r:"")+'\n              <img src="'+(null!=(r=(n.match||t&&t.match||o).call(i,null!=t?t.network:t,"instagram",{name:"match",hash:{},fn:e.program(26,l,0),inverse:e.program(28,l,0),data:l}))?r:"")+'" alt="video" title="'+(null!=(r=(n.match||t&&t.match||o).call(i,null!=t?t.network:t,"instagram",{name:"match",hash:{},fn:e.program(21,l,0),inverse:e.program(23,l,0),data:l}))?r:"")+'\'s video">\n              <div class="play-btn" title="Play video"><span class="icon icon-play"></span></div>\n'},26:function(e,t,n,a,l){return e.escapeExpression((n.photoUrl||t&&t.photoUrl||n.helperMissing).call(null!=t?t:e.nullContext||{},t,{name:"photoUrl",hash:{},data:l}))},28:function(e,t,n,a,l){var r;return e.escapeExpression(e.lambda(null!=(r=null!=(r=null!=t?t.videos:t)?r[0]:r)?r.p:r,t))},30:function(e,t,n,a,l){var r;return"\n"+(null!=(r=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.photos:t,{name:"if",hash:{},fn:e.program(31,l,0),inverse:e.noop,data:l}))?r:"")+"\n"},31:function(e,t,n,a,l){var r;return'\n        <div class="media image">\n'+(null!=(r=(n.match||t&&t.match||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.network:t,"twitter,periscope",{name:"match",hash:{},fn:e.program(32,l,0),inverse:e.program(34,l,0),data:l}))?r:"")+"        </div>\n\n"},32:function(e,t,n,a,l){var r,i=null!=t?t:e.nullContext||{},o=n.helperMissing,s=e.escapeExpression;return'            <img src="'+s((n.photoUrl||t&&t.photoUrl||o).call(i,t,{name:"photoUrl",hash:{},data:l}))+'" alt="Photo" title="'+s("function"==typeof(r=null!=(r=n.user_real_name||(null!=t?t.user_real_name:t))?r:o)?r.call(i,{name:"user_real_name",hash:{},data:l}):r)+" (@"+s("function"==typeof(r=null!=(r=n.user_name||(null!=t?t.user_name:t))?r:o)?r.call(i,{name:"user_name",hash:{},data:l}):r)+")'s photo\">\n"},34:function(e,t,n,a,l){var r,i=null!=t?t:e.nullContext||{},o=n.helperMissing;return'            <img src="'+e.escapeExpression((n.photoUrl||t&&t.photoUrl||o).call(i,t,{name:"photoUrl",hash:{},data:l}))+'" alt="Photo" title="'+(null!=(r=(n.match||t&&t.match||o).call(i,null!=t?t.network:t,"instagram",{name:"match",hash:{},fn:e.program(21,l,0),inverse:e.program(23,l,0),data:l}))?r:"")+"'s photo\">\n"},36:function(e,t,n,a,l){return" has-location"},38:function(e,t,n,a,l){var r,i,o=null!=t?t:e.nullContext||{},s=n.helperMissing,u=e.escapeExpression,c="function";return'          <a class="user-img" href="'+u((n.userURL||t&&t.userURL||s).call(o,t,{name:"userURL",hash:{},data:l}))+'" target="_blank" rel="noopener" title="View '+u(typeof(i=null!=(i=n.user_real_name||(null!=t?t.user_real_name:t))?i:s)===c?i.call(o,{name:"user_real_name",hash:{},data:l}):i)+" (@"+u(typeof(i=null!=(i=n.user_name||(null!=t?t.user_name:t))?i:s)===c?i.call(o,{name:"user_name",hash:{},data:l}):i)+')\'s profile">\n            <img src="'+u(typeof(i=null!=(i=n.user_profile_image_url||(null!=t?t.user_profile_image_url:t))?i:s)===c?i.call(o,{name:"user_profile_image_url",hash:{},data:l}):i)+'" alt="User avatar">\n          </a>\n          <a class="username" href="'+u((n.userURL||t&&t.userURL||s).call(o,t,{name:"userURL",hash:{},data:l}))+'" target="_blank" rel="noopener" title="View '+u(typeof(i=null!=(i=n.user_real_name||(null!=t?t.user_real_name:t))?i:s)===c?i.call(o,{name:"user_real_name",hash:{},data:l}):i)+" (@"+u(typeof(i=null!=(i=n.user_name||(null!=t?t.user_name:t))?i:s)===c?i.call(o,{name:"user_name",hash:{},data:l}):i)+')\'s profile">\n            <span class="author'+(null!=(r=n.if.call(o,null!=(r=null!=t?t.service_meta:t)?r.user_verified:r,{name:"if",hash:{},fn:e.program(39,l,0),inverse:e.noop,data:l}))?r:"")+'">'+u(typeof(i=null!=(i=n.user_real_name||(null!=t?t.user_real_name:t))?i:s)===c?i.call(o,{name:"user_real_name",hash:{},data:l}):i)+'</span>\n            <span class="handle">@'+u(typeof(i=null!=(i=n.user_name||(null!=t?t.user_name:t))?i:s)===c?i.call(o,{name:"user_name",hash:{},data:l}):i)+"</span>\n          </a>\n"},39:function(e,t,n,a,l){return" verified"},41:function(e,t,n,a,l){var r,i=null!=t?t:e.nullContext||{},o=n.helperMissing;return"          "+(null!=(r=(n.match||t&&t.match||o).call(i,null!=t?t.network:t,"instagram",{name:"match",hash:{},fn:e.program(42,l,0),inverse:e.program(44,l,0),data:l}))?r:"")+'\n          <a class="username" href="'+e.escapeExpression((n.userURL||t&&t.userURL||o).call(i,t,{name:"userURL",hash:{},data:l}))+'" target="_blank" rel="noopener" title="View '+(null!=(r=(n.match||t&&t.match||o).call(i,null!=t?t.network:t,"instagram",{name:"match",hash:{},fn:e.program(21,l,0),inverse:e.program(23,l,0),data:l}))?r:"")+'\'s profile">\n            <span class="author'+(null!=(r=n.if.call(i,null!=(r=null!=t?t.service_meta:t)?r.user_verified:r,{name:"if",hash:{},fn:e.program(39,l,0),inverse:e.noop,data:l}))?r:"")+'">'+(null!=(r=(n.match||t&&t.match||o).call(i,null!=t?t.network:t,"instagram",{name:"match",hash:{},fn:e.program(21,l,0),inverse:e.program(23,l,0),data:l}))?r:"")+"</span>\n          </a>\n"},42:function(e,t,n,a,l){return""},44:function(e,t,n,a,l){var r,i,o=null!=t?t:e.nullContext||{},s=n.helperMissing,u=e.escapeExpression;return'<a class="user-img" href="'+u((n.userURL||t&&t.userURL||s).call(o,t,{name:"userURL",hash:{},data:l}))+'" target="_blank" rel="noopener" title="View '+(null!=(r=(n.match||t&&t.match||s).call(o,null!=t?t.network:t,"instagram",{name:"match",hash:{},fn:e.program(21,l,0),inverse:e.program(23,l,0),data:l}))?r:"")+'\'s profile">\n            <img src="'+u("function"==typeof(i=null!=(i=n.user_profile_image_url||(null!=t?t.user_profile_image_url:t))?i:s)?i.call(o,{name:"user_profile_image_url",hash:{},data:l}):i)+'" alt="User avatar">\n          </a>'},46:function(e,t,n,a,l){var r,i=null!=t?t:e.nullContext||{},o=n.helperMissing,s=e.escapeExpression;return'          <span>Comment posted <a class="timestamp timeago" href="'+s("function"==typeof(r=null!=(r=n.permalink||(null!=t?t.permalink:t))?r:o)?r.call(i,{name:"permalink",hash:{},data:l}):r)+'" target="_blank" rel="noopener" title="'+s("function"==typeof(r=null!=(r=n.post_time||(null!=t?t.post_time:t))?r:o)?r.call(i,{name:"post_time",hash:{},data:l}):r)+'"></a></span>\n'},48:function(e,t,n,a,l){var r;return null!=(r=(n.match||t&&t.match||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.network:t,"instagram,facebook,googleplus",{name:"match",hash:{},fn:e.program(49,l,0),inverse:e.program(51,l,0),data:l}))?r:""},49:function(e,t,n,a,l){var r,i=null!=t?t:e.nullContext||{},o=n.helperMissing,s=e.escapeExpression;return'            <a class="timestamp timeago" href="'+s("function"==typeof(r=null!=(r=n.permalink||(null!=t?t.permalink:t))?r:o)?r.call(i,{name:"permalink",hash:{},data:l}):r)+'" target="_blank" rel="noopener" title="'+s("function"==typeof(r=null!=(r=n.post_time||(null!=t?t.post_time:t))?r:o)?r.call(i,{name:"post_time",hash:{},data:l}):r)+'"></a>\n'},51:function(e,t,n,a,l){var r,i=null!=t?t:e.nullContext||{},o=n.helperMissing,s=e.escapeExpression;return'            <a class="timestamp" href="'+s("function"==typeof(r=null!=(r=n.permalink||(null!=t?t.permalink:t))?r:o)?r.call(i,{name:"permalink",hash:{},data:l}):r)+'" target="_blank" rel="noopener" title="'+s((n.formatTimestamp||t&&t.formatTimestamp||o).call(i,t,{name:"formatTimestamp",hash:{},data:l}))+'">'+s((n.formatTimestamp||t&&t.formatTimestamp||o).call(i,t,{name:"formatTimestamp",hash:{},data:l}))+"</a>\n"},53:function(e,t,n,a,l){var r,i;return'          <p class="caption">'+(null!=(r="function"==typeof(i=null!=(i=n.caption||(null!=t?t.caption:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"caption",hash:{},data:l}):i)?r:"")+"</p>\n"},55:function(e,t,n,a,l){var r;return'          <p class="html-summary">'+(null!=(r=(n.trimString||t&&t.trimString||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.html_summary:t,{name:"trimString",hash:{},data:l}))?r:"")+"&nbsp;&hellip;</p>\n"},57:function(e,t,n,a,l){var r;return null!=(r=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.html:t,{name:"if",hash:{},fn:e.program(58,l,0),inverse:e.noop,data:l}))?r:""},58:function(e,t,n,a,l){var r,i;return'          <p class="html">'+(null!=(r="function"==typeof(i=null!=(i=n.html||(null!=t?t.html:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"html",hash:{},data:l}):i)?r:"")+"</p>\n"},60:function(e,t,n,a,l){var r,i=null!=t?t:e.nullContext||{},o=n.helperMissing,s=e.escapeExpression;return'        <div class="post-actions">\n          <a class="twitter-action reply" href="https://twitter.com/intent/tweet?in_reply_to='+s("function"==typeof(r=null!=(r=n.post_id||(null!=t?t.post_id:t))?r:o)?r.call(i,{name:"post_id",hash:{},data:l}):r)+'" target="_blank" rel="noopener" title="Reply"><span class="icon icon-twitter-reply"></span></a>\n          <a class="twitter-action retweet" href="https://twitter.com/intent/retweet?tweet_id='+s("function"==typeof(r=null!=(r=n.post_id||(null!=t?t.post_id:t))?r:o)?r.call(i,{name:"post_id",hash:{},data:l}):r)+'" target="_blank" rel="noopener" title="Retweet"><span class="icon icon-twitter-retweet"></span></a>\n          <a class="twitter-action like" href="https://twitter.com/intent/like?tweet_id='+s("function"==typeof(r=null!=(r=n.post_id||(null!=t?t.post_id:t))?r:o)?r.call(i,{name:"post_id",hash:{},data:l}):r)+'" target="_blank" rel="noopener" title="Like"><span class="icon icon-twitter-like"></span></a>\n        </div>\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,l){var r,i,o=null!=t?t:e.nullContext||{},s=n.helperMissing,u=e.escapeExpression;return'<div class="waterfall post-container '+u("function"==typeof(i=null!=(i=n.network||(null!=t?t.network:t))?i:s)?i.call(o,{name:"network",hash:{},data:l}):i)+(null!=(r=(n.match||t&&t.match||s).call(o,null!=t?t.post_type:t,"photo,video",{name:"match",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l}))?r:"")+" "+u("function"==typeof(i=null!=(i=n.post_type||(null!=t?t.post_type:t))?i:s)?i.call(o,{name:"post_type",hash:{},data:l}):i)+" "+(null!=(r=n.if.call(o,null!=(r=null!=t?t.tgb_meta:t)?r.isComment:r,{name:"if",hash:{},fn:e.program(3,l,0),inverse:e.noop,data:l}))?r:"")+" "+(null!=(r=n.if.call(o,null!=t?t.cta:t,{name:"if",hash:{},fn:e.program(5,l,0),inverse:e.noop,data:l}))?r:"")+'">\n\n  <div class="post">\n\n'+(null!=(r=n.if.call(o,null!=t?t.videos:t,{name:"if",hash:{},fn:e.program(7,l,0),inverse:e.program(30,l,0),data:l}))?r:"")+'\n    <div class="text-module">\n\n      <div class="meta-author'+(null!=(r=n.if.call(o,null!=t?t.location:t,{name:"if",hash:{},fn:e.program(36,l,0),inverse:e.noop,data:l}))?r:"")+'">\n'+(null!=(r=(n.match||t&&t.match||s).call(o,null!=t?t.network:t,"twitter,periscope",{name:"match",hash:{},fn:e.program(38,l,0),inverse:e.program(41,l,0),data:l}))?r:"")+'      </div>\n\n      <div class="post-time">\n'+(null!=(r=n.if.call(o,null!=(r=null!=t?t.tgb_meta:t)?r.isComment:r,{name:"if",hash:{},fn:e.program(46,l,0),inverse:e.program(48,l,0),data:l}))?r:"")+'      </div>\n\n      <div class="message">\n'+(null!=(r=n.if.call(o,null!=t?t.caption:t,{name:"if",hash:{},fn:e.program(53,l,0),inverse:e.noop,data:l}))?r:"")+(null!=(r=n.if.call(o,null!=t?t.html_summary:t,{name:"if",hash:{},fn:e.program(55,l,0),inverse:e.program(57,l,0),data:l}))?r:"")+"      </div>\n\n"+(null!=(r=(n.match||t&&t.match||s).call(o,null!=t?t.network:t,"twitter",{name:"match",hash:{},fn:e.program(60,l,0),inverse:e.noop,data:l}))?r:"")+'\n      <div class="origin-flag icon icon-'+u("function"==typeof(i=null!=(i=n.network||(null!=t?t.network:t))?i:s)?i.call(o,{name:"network",hash:{},data:l}):i)+'"></div>\n\n    </div>\n\n  </div>\n\n  '+(null!=(r=(n.nestedPartial||t&&t.nestedPartial||s).call(o,"posts/ctaLink",t,{name:"nestedPartial",hash:{},data:l}))?r:"")+"\n</div>\n"},useData:!0}),this.tgbTemplates["views/partials/posts/carousel.hbs"]=Handlebars.template({1:function(e,t,n,a,l){return" has-media"},3:function(e,t,n,a,l){return" has-comment"},5:function(e,t,n,a,l){return"has-cta"},7:function(e,t,n,a,l){var r;return null!=(r=(n.match||t&&t.match||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.network:t,"youtube",{name:"match",hash:{},fn:e.program(8,l,0),inverse:e.program(11,l,0),data:l}))?r:""},8:function(e,t,n,a,l){var r,i,o=null!=t?t:e.nullContext||{},s=e.escapeExpression;return"\n"+(null!=(r=n.unless.call(o,null!=(r=null!=t?t.settings:t)?r.cropImages:r,{name:"unless",hash:{},fn:e.program(9,l,0),inverse:e.noop,data:l}))?r:"")+'\n        <div class="media video" style="background-image: url('+s(e.lambda(null!=(r=null!=(r=null!=t?t.videos:t)?r[0]:r)?r.t:r,t))+');" title="'+s("function"==typeof(i=null!=(i=n.user_real_name||(null!=t?t.user_real_name:t))?i:n.helperMissing)?i.call(o,{name:"user_real_name",hash:{},data:l}):i)+'\'s video">\n          <div class="play-btn" title="Play video"><span class="icon icon-play"></span></div>\n        </div>\n\n'},9:function(e,t,n,a,l){var r;return'          <div class="blurred-cover-container">\n            <div class="blurred-cover" style="background-image: url('+e.escapeExpression(e.lambda(null!=(r=null!=(r=null!=t?t.videos:t)?r[0]:r)?r.t:r,t))+');"></div>\n          </div>\n'},11:function(e,t,n,a,l){var r,i=null!=t?t:e.nullContext||{};return"\n"+(null!=(r=n.unless.call(i,null!=(r=null!=t?t.settings:t)?r.cropImages:r,{name:"unless",hash:{},fn:e.program(12,l,0),inverse:e.noop,data:l}))?r:"")+"\n"+(null!=(r=(n.match||t&&t.match||n.helperMissing).call(i,null!=t?t.network:t,"twitter,periscope",{name:"match",hash:{},fn:e.program(17,l,0),inverse:e.program(31,l,0),data:l}))?r:"")+"\n"},12:function(e,t,n,a,l){var r;return'          <div class="blurred-cover-container">\n            <div class="blurred-cover" style="background-image: url('+(null!=(r=(n.match||t&&t.match||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.network:t,"instagram",{name:"match",hash:{},fn:e.program(13,l,0),inverse:e.program(15,l,0),data:l}))?r:"")+');"></div>\n          </div>\n'},13:function(e,t,n,a,l){return e.escapeExpression((n.photoUrl||t&&t.photoUrl||n.helperMissing).call(null!=t?t:e.nullContext||{},t,{name:"photoUrl",hash:{},data:l}))},15:function(e,t,n,a,l){var r;return e.escapeExpression(e.lambda(null!=(r=null!=(r=null!=t?t.videos:t)?r[0]:r)?r.p:r,t))},17:function(e,t,n,a,l){var r,i,o=e.escapeExpression,s=null!=t?t:e.nullContext||{},u=n.helperMissing;return'          <div class="media video '+o(e.lambda(null!=(r=null!=(r=null!=t?t.videos:t)?r[0]:r)?r.type:r,t))+'" '+(null!=(r=n.if.call(s,null!=(r=null!=t?t.service_meta:t)?r.published_live:r,{name:"if",hash:{},fn:e.program(18,l,0),inverse:e.noop,data:l}))?r:"")+" "+(null!=(r=(n.compare||t&&t.compare||u).call(s,null!=(r=null!=(r=null!=t?t.videos:t)?r[0]:r)?r.type:r,"!==","gif",{name:"compare",hash:{},fn:e.program(20,l,0),inverse:e.noop,data:l}))?r:"")+' title="'+o("function"==typeof(i=null!=(i=n.user_real_name||(null!=t?t.user_real_name:t))?i:u)?i.call(s,{name:"user_real_name",hash:{},data:l}):i)+" (@"+o("function"==typeof(i=null!=(i=n.user_name||(null!=t?t.user_name:t))?i:u)?i.call(s,{name:"user_name",hash:{},data:l}):i)+")'s "+(null!=(r=(n.compare||t&&t.compare||u).call(s,null!=(r=null!=(r=null!=t?t.videos:t)?r[0]:r)?r.type:r,"===","gif",{name:"compare",hash:{},fn:e.program(22,l,0),inverse:e.program(24,l,0),data:l}))?r:"")+'">\n'+(null!=(r=(n.compare||t&&t.compare||u).call(s,null!=(r=null!=(r=null!=t?t.videos:t)?r[0]:r)?r.type:r,"===","gif",{name:"compare",hash:{},fn:e.program(26,l,0),inverse:e.program(28,l,0),data:l}))?r:"")+"          </div>\n"},18:function(e,t,n,a,l){var r;return'data-live-video="'+e.escapeExpression(e.lambda(null!=(r=null!=(r=null!=t?t.videos:t)?r[0]:r)?r.m:r,t))+'"'},20:function(e,t,n,a,l){var r;return'style="background-image: url('+e.escapeExpression(e.lambda(null!=(r=null!=(r=null!=t?t.videos:t)?r[0]:r)?r.p:r,t))+');"'},22:function(e,t,n,a,l){return"gif"},24:function(e,t,n,a,l){return"video"},26:function(e,t,n,a,l){var r,i=e.lambda,o=e.escapeExpression;return'              <video type="video/mp4" loop muted poster="'+o(i(null!=(r=null!=(r=null!=t?t.videos:t)?r[0]:r)?r.p:r,t))+'" src="'+o(i(null!=(r=null!=(r=null!=t?t.videos:t)?r[0]:r)?r.m:r,t))+'" alt="gif"></video>\n'},28:function(e,t,n,a,l){var r;return"              "+(null!=(r=n.if.call(null!=t?t:e.nullContext||{},null!=(r=null!=t?t.service_meta:t)?r.published_live:r,{name:"if",hash:{},fn:e.program(29,l,0),inverse:e.noop,data:l}))?r:"")+'\n              <div class="play-btn" title="Play video"><span class="icon icon-play"></span></div>\n'},29:function(e,t,n,a,l){return'<div class="live-badge">LIVE</div>'},31:function(e,t,n,a,l){var r,i=null!=t?t:e.nullContext||{},o=n.helperMissing;return'          <div class="media video '+e.escapeExpression(e.lambda(null!=(r=null!=(r=null!=t?t.videos:t)?r[0]:r)?r.type:r,t))+'" '+(null!=(r=n.if.call(i,null!=(r=null!=t?t.service_meta:t)?r.published_live:r,{name:"if",hash:{},fn:e.program(18,l,0),inverse:e.noop,data:l}))?r:"")+" "+(null!=(r=(n.compare||t&&t.compare||o).call(i,null!=(r=null!=(r=null!=t?t.videos:t)?r[0]:r)?r.type:r,"!==","gif",{name:"compare",hash:{},fn:e.program(32,l,0),inverse:e.noop,data:l}))?r:"")+' title="'+(null!=(r=(n.match||t&&t.match||o).call(i,null!=t?t.network:t,"instagram",{name:"match",hash:{},fn:e.program(34,l,0),inverse:e.program(36,l,0),data:l}))?r:"")+"'s "+(null!=(r=(n.compare||t&&t.compare||o).call(i,null!=(r=null!=(r=null!=t?t.videos:t)?r[0]:r)?r.type:r,"===","gif",{name:"compare",hash:{},fn:e.program(22,l,0),inverse:e.program(24,l,0),data:l}))?r:"")+'">\n'+(null!=(r=(n.compare||t&&t.compare||o).call(i,null!=(r=null!=(r=null!=t?t.videos:t)?r[0]:r)?r.type:r,"===","gif",{name:"compare",hash:{},fn:e.program(26,l,0),inverse:e.program(28,l,0),data:l}))?r:"")+"          </div>\n"},32:function(e,t,n,a,l){var r;return'style="background-image: url('+(null!=(r=(n.match||t&&t.match||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.network:t,"instagram",{name:"match",hash:{},fn:e.program(13,l,0),inverse:e.program(15,l,0),data:l}))?r:"")+');"'},34:function(e,t,n,a,l){var r;return e.escapeExpression("function"==typeof(r=null!=(r=n.user_name||(null!=t?t.user_name:t))?r:n.helperMissing)?r.call(null!=t?t:e.nullContext||{},{name:"user_name",hash:{},data:l}):r)},36:function(e,t,n,a,l){var r;return e.escapeExpression("function"==typeof(r=null!=(r=n.user_real_name||(null!=t?t.user_real_name:t))?r:n.helperMissing)?r.call(null!=t?t:e.nullContext||{},{name:"user_real_name",hash:{},data:l}):r)},38:function(e,t,n,a,l){var r;return null!=(r=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.photos:t,{name:"if",hash:{},fn:e.program(39,l,0),inverse:e.noop,data:l}))?r:""},39:function(e,t,n,a,l){var r,i=null!=t?t:e.nullContext||{};return"\n"+(null!=(r=n.unless.call(i,null!=(r=null!=t?t.settings:t)?r.cropImages:r,{name:"unless",hash:{},fn:e.program(40,l,0),inverse:e.noop,data:l}))?r:"")+"\n"+(null!=(r=(n.match||t&&t.match||n.helperMissing).call(i,null!=t?t.network:t,"twitter,periscope",{name:"match",hash:{},fn:e.program(42,l,0),inverse:e.program(44,l,0),data:l}))?r:"")+"\n"},40:function(e,t,n,a,l){return'          <div class="blurred-cover-container">\n            <div class="blurred-cover" style="background-image: url('+e.escapeExpression((n.photoUrl||t&&t.photoUrl||n.helperMissing).call(null!=t?t:e.nullContext||{},t,{name:"photoUrl",hash:{},data:l}))+');"></div>\n          </div>\n'},42:function(e,t,n,a,l){var r,i=null!=t?t:e.nullContext||{},o=n.helperMissing,s=e.escapeExpression;return'          <div class="media image" style="background-image: url('+s((n.photoUrl||t&&t.photoUrl||o).call(i,t,{name:"photoUrl",hash:{},data:l}))+');" title="'+s("function"==typeof(r=null!=(r=n.user_real_name||(null!=t?t.user_real_name:t))?r:o)?r.call(i,{name:"user_real_name",hash:{},data:l}):r)+" (@"+s("function"==typeof(r=null!=(r=n.user_name||(null!=t?t.user_name:t))?r:o)?r.call(i,{name:"user_name",hash:{},data:l}):r)+")'s photo\"></div>\n"},44:function(e,t,n,a,l){var r,i=null!=t?t:e.nullContext||{},o=n.helperMissing;return'          <div class="media image" style="background-image: url('+e.escapeExpression((n.photoUrl||t&&t.photoUrl||o).call(i,t,{name:"photoUrl",hash:{},data:l}))+');" title="'+(null!=(r=(n.match||t&&t.match||o).call(i,null!=t?t.network:t,"instagram",{name:"match",hash:{},fn:e.program(34,l,0),inverse:e.program(36,l,0),data:l}))?r:"")+"'s photo\"></div>\n"},46:function(e,t,n,a,l){return" has-location"},48:function(e,t,n,a,l){var r,i,o=null!=t?t:e.nullContext||{},s=n.helperMissing,u=e.escapeExpression,c="function";return'          <a class="user-img" href="'+u((n.userURL||t&&t.userURL||s).call(o,t,{name:"userURL",hash:{},data:l}))+'" target="_blank" rel="noopener" title="View '+u(typeof(i=null!=(i=n.user_real_name||(null!=t?t.user_real_name:t))?i:s)===c?i.call(o,{name:"user_real_name",hash:{},data:l}):i)+" (@"+u(typeof(i=null!=(i=n.user_name||(null!=t?t.user_name:t))?i:s)===c?i.call(o,{name:"user_name",hash:{},data:l}):i)+')\'s profile">\n            <img src="'+u(typeof(i=null!=(i=n.user_profile_image_url||(null!=t?t.user_profile_image_url:t))?i:s)===c?i.call(o,{name:"user_profile_image_url",hash:{},data:l}):i)+'" alt="User avatar">\n          </a>\n          <a class="username" href="'+u((n.userURL||t&&t.userURL||s).call(o,t,{name:"userURL",hash:{},data:l}))+'" target="_blank" rel="noopener" title="View '+u(typeof(i=null!=(i=n.user_real_name||(null!=t?t.user_real_name:t))?i:s)===c?i.call(o,{name:"user_real_name",hash:{},data:l}):i)+" (@"+u(typeof(i=null!=(i=n.user_name||(null!=t?t.user_name:t))?i:s)===c?i.call(o,{name:"user_name",hash:{},data:l}):i)+')\'s profile">\n            <span class="author'+(null!=(r=n.if.call(o,null!=(r=null!=t?t.service_meta:t)?r.user_verified:r,{name:"if",hash:{},fn:e.program(49,l,0),inverse:e.noop,data:l}))?r:"")+'">'+u(typeof(i=null!=(i=n.user_real_name||(null!=t?t.user_real_name:t))?i:s)===c?i.call(o,{name:"user_real_name",hash:{},data:l}):i)+'</span>\n            <span class="handle">@'+u(typeof(i=null!=(i=n.user_name||(null!=t?t.user_name:t))?i:s)===c?i.call(o,{name:"user_name",hash:{},data:l}):i)+"</span>\n          </a>\n"},49:function(e,t,n,a,l){return" verified"},51:function(e,t,n,a,l){var r,i=null!=t?t:e.nullContext||{},o=n.helperMissing;return"          "+(null!=(r=(n.match||t&&t.match||o).call(i,null!=t?t.network:t,"instagram",{name:"match",hash:{},fn:e.program(52,l,0),inverse:e.program(54,l,0),data:l}))?r:"")+'\n          <a class="username" href="'+e.escapeExpression((n.userURL||t&&t.userURL||o).call(i,t,{name:"userURL",hash:{},data:l}))+'" target="_blank" rel="noopener" title="View '+(null!=(r=(n.match||t&&t.match||o).call(i,null!=t?t.network:t,"instagram",{name:"match",hash:{},fn:e.program(34,l,0),inverse:e.program(36,l,0),data:l}))?r:"")+'\'s profile">\n            <span class="author'+(null!=(r=n.if.call(i,null!=(r=null!=t?t.service_meta:t)?r.user_verified:r,{name:"if",hash:{},fn:e.program(49,l,0),inverse:e.noop,data:l}))?r:"")+'">'+(null!=(r=(n.match||t&&t.match||o).call(i,null!=t?t.network:t,"instagram",{name:"match",hash:{},fn:e.program(34,l,0),inverse:e.program(36,l,0),data:l}))?r:"")+"</span>\n          </a>\n"},52:function(e,t,n,a,l){return""},54:function(e,t,n,a,l){var r,i,o=null!=t?t:e.nullContext||{},s=n.helperMissing,u=e.escapeExpression;return'<a class="user-img" href="'+u((n.userURL||t&&t.userURL||s).call(o,t,{name:"userURL",hash:{},data:l}))+'" target="_blank" rel="noopener" title="View '+(null!=(r=(n.match||t&&t.match||s).call(o,null!=t?t.network:t,"instagram",{name:"match",hash:{},fn:e.program(34,l,0),inverse:e.program(36,l,0),data:l}))?r:"")+'\'s profile">\n            <img src="'+u("function"==typeof(i=null!=(i=n.user_profile_image_url||(null!=t?t.user_profile_image_url:t))?i:s)?i.call(o,{name:"user_profile_image_url",hash:{},data:l}):i)+'" alt="User avatar">\n          </a>'},56:function(e,t,n,a,l){var r,i=null!=t?t:e.nullContext||{},o=n.helperMissing,s=e.escapeExpression;return'          <span>Comment posted <a class="timestamp timeago" href="'+s("function"==typeof(r=null!=(r=n.permalink||(null!=t?t.permalink:t))?r:o)?r.call(i,{name:"permalink",hash:{},data:l}):r)+'" target="_blank" rel="noopener" title="'+s("function"==typeof(r=null!=(r=n.post_time||(null!=t?t.post_time:t))?r:o)?r.call(i,{name:"post_time",hash:{},data:l}):r)+'"></a></span>\n'},58:function(e,t,n,a,l){var r;return null!=(r=(n.match||t&&t.match||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.network:t,"instagram,facebook,googleplus",{name:"match",hash:{},fn:e.program(59,l,0),inverse:e.program(61,l,0),data:l}))?r:""},59:function(e,t,n,a,l){var r,i=null!=t?t:e.nullContext||{},o=n.helperMissing,s=e.escapeExpression;return'            <a class="timestamp timeago" href="'+s("function"==typeof(r=null!=(r=n.permalink||(null!=t?t.permalink:t))?r:o)?r.call(i,{name:"permalink",hash:{},data:l}):r)+'" target="_blank" rel="noopener" title="'+s("function"==typeof(r=null!=(r=n.post_time||(null!=t?t.post_time:t))?r:o)?r.call(i,{name:"post_time",hash:{},data:l}):r)+'"></a>\n'},61:function(e,t,n,a,l){var r,i=null!=t?t:e.nullContext||{},o=n.helperMissing,s=e.escapeExpression;return'            <a class="timestamp" href="'+s("function"==typeof(r=null!=(r=n.permalink||(null!=t?t.permalink:t))?r:o)?r.call(i,{name:"permalink",hash:{},data:l}):r)+'" target="_blank" rel="noopener" title="'+s((n.formatTimestamp||t&&t.formatTimestamp||o).call(i,t,{name:"formatTimestamp",hash:{},data:l}))+'">'+s((n.formatTimestamp||t&&t.formatTimestamp||o).call(i,t,{name:"formatTimestamp",hash:{},data:l}))+"</a>\n"},63:function(e,t,n,a,l){var r,i;return'          <p class="caption">'+(null!=(r="function"==typeof(i=null!=(i=n.caption||(null!=t?t.caption:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"caption",hash:{},data:l}):i)?r:"")+"</p>\n"},65:function(e,t,n,a,l){var r;return'          <p class="html-summary">'+(null!=(r=(n.trimString||t&&t.trimString||n.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?t.html_summary:t,{name:"trimString",hash:{},data:l}))?r:"")+"&nbsp;&hellip;</p>\n"},67:function(e,t,n,a,l){var r;return null!=(r=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.html:t,{name:"if",hash:{},fn:e.program(68,l,0),inverse:e.noop,data:l}))?r:""},68:function(e,t,n,a,l){var r,i;return'          <p class="html">'+(null!=(r="function"==typeof(i=null!=(i=n.html||(null!=t?t.html:t))?i:n.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"html",hash:{},data:l}):i)?r:"")+"</p>\n"},70:function(e,t,n,a,l){var r,i=null!=t?t:e.nullContext||{},o=n.helperMissing,s=e.escapeExpression;return'        <div class="post-actions">\n          <a class="twitter-action reply" href="https://twitter.com/intent/tweet?in_reply_to='+s("function"==typeof(r=null!=(r=n.post_id||(null!=t?t.post_id:t))?r:o)?r.call(i,{name:"post_id",hash:{},data:l}):r)+'" target="_blank" rel="noopener" title="Reply"><span class="icon icon-twitter-reply"></span></a>\n          <a class="twitter-action retweet" href="https://twitter.com/intent/retweet?tweet_id='+s("function"==typeof(r=null!=(r=n.post_id||(null!=t?t.post_id:t))?r:o)?r.call(i,{name:"post_id",hash:{},data:l}):r)+'" target="_blank" rel="noopener" title="Retweet"><span class="icon icon-twitter-retweet"></span></a>\n          <a class="twitter-action like" href="https://twitter.com/intent/like?tweet_id='+s("function"==typeof(r=null!=(r=n.post_id||(null!=t?t.post_id:t))?r:o)?r.call(i,{name:"post_id",hash:{},data:l}):r)+'" target="_blank" rel="noopener" title="Like"><span class="icon icon-twitter-like"></span></a>\n        </div>\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,l){var r,i,o=null!=t?t:e.nullContext||{},s=n.helperMissing,u=e.escapeExpression;return'<div class="carousel post-container '+u("function"==typeof(i=null!=(i=n.network||(null!=t?t.network:t))?i:s)?i.call(o,{name:"network",hash:{},data:l}):i)+(null!=(r=(n.match||t&&t.match||s).call(o,null!=t?t.post_type:t,"photo,video",{name:"match",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l}))?r:"")+" "+u("function"==typeof(i=null!=(i=n.post_type||(null!=t?t.post_type:t))?i:s)?i.call(o,{name:"post_type",hash:{},data:l}):i)+" "+(null!=(r=n.if.call(o,null!=(r=null!=t?t.tgb_meta:t)?r.isComment:r,{name:"if",hash:{},fn:e.program(3,l,0),inverse:e.noop,data:l}))?r:"")+" "+(null!=(r=n.if.call(o,null!=t?t.cta:t,{name:"if",hash:{},fn:e.program(5,l,0),inverse:e.noop,data:l}))?r:"")+'">\n\n  <div class="post">\n\n'+(null!=(r=n.if.call(o,null!=t?t.videos:t,{name:"if",hash:{},fn:e.program(7,l,0),inverse:e.program(38,l,0),data:l}))?r:"")+'\n    <div class="text-module">\n\n      <div class="meta-author'+(null!=(r=n.if.call(o,null!=t?t.location:t,{name:"if",hash:{},fn:e.program(46,l,0),inverse:e.noop,data:l}))?r:"")+'">\n'+(null!=(r=(n.match||t&&t.match||s).call(o,null!=t?t.network:t,"twitter,periscope",{name:"match",hash:{},fn:e.program(48,l,0),inverse:e.program(51,l,0),data:l}))?r:"")+'      </div>\n\n      <div class="post-time">\n'+(null!=(r=n.if.call(o,null!=(r=null!=t?t.tgb_meta:t)?r.isComment:r,{name:"if",hash:{},fn:e.program(56,l,0),inverse:e.program(58,l,0),data:l}))?r:"")+'      </div>\n\n      <div class="message">\n'+(null!=(r=n.if.call(o,null!=t?t.caption:t,{name:"if",hash:{},fn:e.program(63,l,0),inverse:e.noop,data:l}))?r:"")+(null!=(r=n.if.call(o,null!=t?t.html_summary:t,{name:"if",hash:{},fn:e.program(65,l,0),inverse:e.program(67,l,0),data:l}))?r:"")+"      </div>\n\n"+(null!=(r=(n.match||t&&t.match||s).call(o,null!=t?t.network:t,"twitter",{name:"match",hash:{},fn:e.program(70,l,0),inverse:e.noop,data:l}))?r:"")+'\n      <div class="origin-flag icon icon-'+u("function"==typeof(i=null!=(i=n.network||(null!=t?t.network:t))?i:s)?i.call(o,{name:"network",hash:{},data:l}):i)+'"></div>\n\n    </div>\n\n  </div>\n\n  '+(null!=(r=(n.nestedPartial||t&&t.nestedPartial||s).call(o,"posts/ctaLink",t,{name:"nestedPartial",hash:{},data:l}))?r:"")+"\n</div>\n"},useData:!0}),function(e){e.Post=function(t){if(!t.network||!t.post_id)throw"Initializing a post with bad data.";this.data=t,this.id=t.network+t.post_id,this.DOMObj=null,e.pub("postInitialized",this)},e.Post.prototype.render=function(e){this.DOMObj||(this.DOMObj=$(e(this.data)),this.DOMObj.data().post=this,this.cleanupText())},e.Post.prototype.inDOM=function(){return!(!this.DOMObj||!this.DOMObj.parent().length)},e.Post.prototype.removeDOMObj=function(){this.DOMObj&&(this.DOMObj.removeData(),this.DOMObj.remove(),this.DOMObj=null)},e.Post.prototype.cleanupText=function(){var e=this.DOMObj.find(".hashtag");if(e.length){var t=null;switch(this.data.network){case"googleplus":break;case"twitter":t=function(e,t){e.attr("href",t.replace("/","https://twitter.com/search?q=%23"))};break;case"instagram":t=function(e,t){e.attr("href","https://instagram.com/explore/tags"+t)};break;case"facebook":t=function(e,t){e.attr("href","https://www.facebook.com/hashtag"+t)};break;default:t=function(e,t){e.attr("href",t+"/search")}}"function"==typeof t&&e.each(function(){t($(this),$(this).attr("href"))})}}}(window.tgb),function(e){e.PostLibrary=function(e,t){if(this.posts={},this.tab=e,this.tagboard_id=e.tagboard_id,this.network="all",this.newPostTimeout=0,this.options=t||{},this.initialized=!1,this.options.count=this.options.count||100,!e||!this.tagboard_id)throw"Initializing without a valid tagboard.";this.initialRequest()},e.PostLibrary.prototype.generateRequestURL=function(e){var t=[];return t.push("count="+this.options.count),e&&t.push("since="+this.sinceToken),this.options.mediaOnly&&t.push("media_only=true"),"all"!==this.network&&t.push("network="+this.network),"https://story.tagboard.com/posts/"+this.tagboard_id+"?"+t.join("&")},e.PostLibrary.prototype.initialRequest=function(){var t=this,n=this.generateRequestURL();$.ajax({url:n}).done(function(n){n.posts.forEach(function(n){var a=new e.Post(n);a.fromInitialLibrary=!0,t.posts[a.id]=a}),t.size=n.posts.length,t.sinceToken=n.meta&&n.meta.since,t.initialized=!0,e.pub("postLibraryInitialized",t.tab)})},e.PostLibrary.prototype.startPolling=function(){clearTimeout(this.newPostTimeout),this.queueNewPostLookup()},e.PostLibrary.prototype.stopPolling=function(){clearTimeout(this.newPostTimeout),this.newPostTimeout=0},e.PostLibrary.prototype.newPostRequest=function(){var t=this,n=this.generateRequestURL(!0);this.sinceToken&&$.ajax({url:n}).done(function(n){var a=[];if(n.posts.forEach(function(n){var l=new e.Post(n);t.posts[l.id]=l,a.push(l)}),n.meta.since&&(t.sinceToken=n.meta.since),t.size=Object.keys(t.posts).length,a.length){var l=Math.max(0,t.size-t.options.count);t.getPosts({count:l,sort:function(e,t){return e.data.curated_time-t.data.curated_time}}).forEach(function(e){e.DOMObj&&e.DOMObj.parent().length?e.removeMe=!0:t.removePost(e)}),e.pub("newPosts",{tab:t.tab,posts:a})}t.queueNewPostLookup()})},e.PostLibrary.prototype.removePost=function(e){e&&(e.removeDOMObj(),delete this.posts[e.id],this.size=Object.keys(this.posts).length)},e.PostLibrary.prototype.queueNewPostLookup=function(){var e=this;clearTimeout(this.newPostTimeout),this.newPostTimeout=setTimeout(function(){e.newPostRequest()},15e3)},e.PostLibrary.prototype.getPosts=function(e){var t=e||{},n=[],a=t.sort||function(e,t){return t.data.curated_time-e.data.curated_time};for(var l in this.posts)n.push(this.posts[l]);return n=n.sort(a),t.outsideDOM&&(n=n.filter(function(e){return!e.inDOM()})),t.count&&(n=n.slice(0,t.count)),n},e.PostLibrary.prototype.clearLibrary=function(){for(var e in this.posts)this.posts[e].removeDOMObj();this.stopPolling(),this.posts={},this.initialized=!1},e.PostLibrary.prototype.removeAllFromDOM=function(){for(var e in this.posts)this.posts[e].DOMObj&&this.posts[e].DOMObj.detach()},e.PostLibrary.prototype.olderPostCount=function(){var e=0,t=[];for(var n in this.posts)t.push(this.posts[n]);return t.forEach(function(t){e+=t.fromInitialLibrary&&!t.inDOM()?1:0}),e},e.PostLibrary.prototype.postCount=function(){return Object.keys(this.posts).length},$(".tagboard-embed").on("click",".post-container",function(t){var n=$(t.target),a=$(t.currentTarget).data().post;0===n.closest("a").length&&(e.pub("postClicked",a),e.pub("logEvent",{event:"click",post:a.data}))})}(window.tgb),function(e,t){t.sub("postsAddedToDOM",function(e,n){var a=n.tab,l=a.$posts;l.imagesLoaded({background:".media"}).progress(function(e,n){var l=$(n.element||n.img);n.isLoaded||(l.closest(".meta-author").length?l.attr("src","https://static.tagboard.com/public/img/profile_placeholder.jpg"):t.pub("missingPostImage",{tab:a,$post:l.closest(".post-container")}))}).always(function(e){t.pub("imagesLoadedCompleted",n)}),l.find(".timeago").not(".hasTimeago").each(function(){$(this).addClass("hasTimeago"),$(this).attr("title",new Date(1e3*$(this).attr("title")).toISOString()),$(this).timeago()})})}(window,window.tgb),function(e,t,n){function a(e){this.tab=e,this.currIndex=0,this.postBlocks=0,this.posts=[],this.buildingBlocks=!0,this.template=tgbTemplates["views/partials/posts/grid.hbs"]}var l,r=!1,i=null;switch(t.embedSettings.sliderSpeed){case"slow":l=8e3;break;case"normal":l=5e3;break;case"fast":l=2e3;break;default:l=5e3}a.prototype.scrollRight=function(){r=!0;var e=this.tab.$posts;this.currIndex===this.postBlocks-1&&(e.find(".post-block:first").detach().appendTo(e),this.currIndex--);var a=e.find(".post-block").eq(this.currIndex),l=e.find(".post-block").eq(++this.currIndex);a.addClass("animate-out next"),l.addClass("animate-in next active"),n(".arrow.left").show(),this.buildingBlocks&&this.buildBlock(),l.find(".post-container").each(function(){var e=n(this).data().post;t.pub("logPostView",{post:e})})},a.prototype.scrollLeft=function(){if(0!==this.currIndex||!this.buildingBlocks){r=!0;var e=this.tab.$posts;0===this.currIndex&&(e.find(".post-block:last").detach().prependTo(e),this.currIndex++);var a=e.find(".post-block").eq(this.currIndex),l=e.find(".post-block").eq(--this.currIndex);0===this.currIndex&&this.buildingBlocks&&n(".arrow.left").hide(),a.addClass("animate-out prev"),l.addClass("animate-in prev active"),l.find(".post-container").each(function(){var e=n(this).data().post;t.pub("logPostView",{post:e})})}},a.prototype.init=function(){this.posts=this.tab.PostLibrary.getPosts({count:100,outsideDOM:!0}),this.tab.$posts.on("animationend webkitAnimationEnd MSAnimationEnd oAnimationEnd",n.proxy(u,this))},a.prototype.layout=function(){var e=this,a=t.grid.postBlockCount(),l="even",r=function(){if(!(e.currIndex+2<e.postBlocks)){var r=e.tab.PostLibrary.getPosts({count:a,outsideDOM:!0});if(l="even"===l?"odd":"even",r.length<a)return e.buildingBlocks=!1,void t.unsub("imagesLoadedCompleted",i);var o=n('<div class="post-block" data-order="'+l+'"></div>');r.forEach(function(t){var a=n('<div class="grid-cell"></div>');t.render(e.template),a.append(t.DOMObj),o.append(a)}),e.tab.$posts.append(o),e.postBlocks+=1,t.pub("postsAddedToDOM",{tab:e.tab,posts:r,sliderBlock:!0}),0===e.tab.$posts.find(".post-block.active").length&&(e.currIndex=0,e.tab.$posts.find(".post-block").eq(e.currIndex).addClass("active"),n(".arrow.left").hide())}},i=function(t,n){n.sliderBlock&&n.tab.isActive()&&n.tab===e.tab&&r()};e.buildBlock=r,t.sub("imagesLoadedCompleted",i),r()},"slider"===t.embedSettings.type&&(n(".arrow.right").on("click",function(){if(r)return!1;i&&s(),t.TabManager.activeTab().slider.scrollRight()}),n(".arrow.left").on("click",function(){if(r)return!1;i&&s(),t.TabManager.activeTab().slider.scrollLeft()}),t.sub("tabInitialized",function(e,t){t.slider=new a(t)}),t.sub("postLibraryInitialized",function(e,t){t.slider.init(),t.slider.layout()}),t.sub("mobileSizeChanged",function(e){t.TabManager.allTabs().forEach(function(e){e.PostLibrary.initialized&&(e.clearContent(),e.slider.layout(e))})}),t.sub("tabChanged",function(e,n){c(),n.tab.slider.buildingBlocks&&t.pub("postsAddedToDOM",{tab:n.tab,sliderBlock:!0})}),t.sub("postsAddedToDOM",function(e,t){c()}),t.visiblePostSelector=".posts .post-block.active .post-container");var o=function(){i=requestInterval(function(){if(r)return!1;t.TabManager.activeTab().slider.scrollRight()},l)},s=function(){clearRequestInterval(i),i=null},u=function(e){var a=n(e.target);a.hasClass("animate-in")&&(a.removeClass("animate-in prev next"),r=!1),a.hasClass("animate-out")&&(a.removeClass("animate-out prev next active"),r=!1),t.embedSettings.autoAdvance&&!i&&o()},c=function(){var e=t.TabManager.activeTab();i&&s(),e.slider.postBlocks<=1?n(".arrow").addClass("hidden"):(t.embedSettings.autoAdvance&&o(),n(".arrow").removeClass("hidden"),0===e.slider.currIndex&&e.slider.buildingBlocks?n(".arrow.left").hide():n(".arrow.left").show())}}(window,window.tgb,jQuery),function(e){var t=function(t){var n=e.grid.postBlockCount(),a=t.PostLibrary.getPosts({count:n,outsideDOM:!0}),l=$('<div class="post-block"></div>');a.forEach(function(e){var t=$('<div class="grid-cell"></div>');t.append(e.DOMObj),e.displayed(),l.append(t)}),t.$posts.append(l),e.pub("postsAddedToDOM",{tab:t,posts:a})},n=function(e){var t=e.PostLibrary.size>1?e.PostLibrary.size/2:1;return candidatePosts=e.PostLibrary.getPosts({count:t,outsideDOM:!0,sort:function(e,t){return e.displayNum===t.displayNum?t.data.curated_time-e.data.curated_time:e.displayNum-t.displayNum}}),0===candidatePosts.length?null:-1===candidatePosts[0].displayNum?candidatePosts[0]:candidatePosts[Math.floor(Math.random()*candidatePosts.length)]},a={animating:!1,nextAnimTimeout:0,$gridCell:null,$newPost:null,$oldPost:null},l=function(){var t;switch(e.embedSettings.cycleSpeed){case"slow":t=8e3;break;case"normal":t=5e3;break;case"fast":t=2e3;break;default:t=5e3}clearTimeout(a.nextAnimTimeout),a.nextAnimTimeout=setTimeout(r,t)},r=function(){var t=e.TabManager.activeTab(),r=t.$posts.find(".grid-cell"),i="animationend webkitAnimationEnd MSAnimationEnd oAnimationEnd",o=function(){a.$gridCell.off(i,o),a.$oldPost.removeClass("anim-out"),a.$newPost.removeClass("anim-in"),a.$gridCell.removeClass("animating"),a.$oldPost.detach(),a.$oldPost.data().post.removeMe&&t.PostLibrary.removePost(a.$oldPost.data().post),"function"==typeof a.$newPost.data().replaceFn&&a.$newPost.data().replaceFn(),a.animating=!1,a.$gridCell=null,a.$newPost=null,a.$oldPost=null,l()};if(!a.animating){clearTimeout(a.nextAnimTimeout);var s=n(t);s?(a.$gridCell=r.eq(Math.floor(Math.random()*r.length)),a.$newPost=s.DOMObj,a.$oldPost=a.$gridCell.find(".post-container"),a.$gridCell.append(a.$newPost),s.displayed(),e.pub("postsAddedToDOM",{tab:t,posts:[s]}),a.$gridCell.on(i,o),a.$gridCell.addClass("animating"),a.$newPost.addClass("anim-in"),a.$oldPost.addClass("anim-out"),a.animating=!0):l()}};if("cycle"===e.embedSettings.type){var i=0,o=tgbTemplates["views/partials/posts/grid.hbs"];e.sub("postInitialized",function(e,t){t.render(o),t.displayNum=-1}),e.Post.prototype.displayed=function(){this.displayNum=++i},function(){var n=function(n,a){t(a),e.embedSettings.mosaic&&t(a),l()};e.sub("postLibraryInitialized",n),e.sub("mobileSizeChanged",function(t){e.TabManager.allTabs().forEach(function(e){e.PostLibrary.initialized&&(e.clearContent(),n(0,e))})}),e.embedSettings.loadNewPosts&&e.sub("tabChanged",function(e,t){t.previousTab&&t.previousTab.PostLibrary.stopPolling(),t.tab.PostLibrary.startPolling()})}()}}(window.tgb),function(e){e.Tab=function(t,n){if(this.$button=t,this.tagboard_id=Number(t.attr("data-tagboard-id")),!t||!this.tagboard_id)throw"Initializing a tab with bad data.";this.PostLibrary=new e.PostLibrary(this,n),this.$posts=$('<div class="tab-container"></div>')},e.Tab.prototype.setNetwork=function(e){this.PostLibrary.network!==e&&(this.PostLibrary.clearLibrary(),this.$posts.empty(),this.PostLibrary.network=e,this.PostLibrary.initialRequest())},e.Tab.prototype.clearContent=function(){this.PostLibrary.removeAllFromDOM(),this.$posts.empty()},e.Tab.prototype.isActive=function(){return this===t.activeTab};var t={tabs:[],activeTab:null,network:"all",$tabButtons:$(".tagboard-tabs [data-tagboard-id]")},n=function(n){var a=t.activeTab;if(t.activeTab){if(n===t.activeTab)return;t.activeTab.$button.removeClass("active"),t.activeTab.$posts.detach()}e.embedSettings.showNetworkFilters&&n.setNetwork(t.network),$(".posts").append(n.$posts),n.$button.addClass("active"),t.activeTab=n,n.PostLibrary.initialized?$(".posts").removeClass("loading"):$(".posts").addClass("loading"),e.pub("tabChanged",{tab:n,previousTab:a})};e.TabManager={init:function(a){$(".tagboard-tabs").on("click","[data-tagboard-id]",function(e){n($(e.currentTarget).data("tab"))}),t.$tabButtons.each(function(){var l=new e.Tab($(this),a);t.tabs.push(l),$(this).data("tab",l),e.pub("tabInitialized",l),t.activeTab||n(l)}),e.embedSettings.showNetworkFilters&&$(".network-filters").on("click",".filter-item",function(n){var a=$(n.currentTarget),l=a.attr("data-filter-value");l!==t.network&&($(".filter-item.active").removeClass("active"),a.addClass("active"),e.TabManager.activeTab().setNetwork(l),t.network=l,e.pub("networkChanged",l))}),e.sub("postLibraryInitialized",function(e,n){n===t.activeTab&&$(".posts").removeClass("loading")})},activeTab:function(){return t.activeTab},allTabs:function(){return t.tabs}}}(window.tgb),function(e,t,n){var a=tgbTemplates["views/partials/posts/grid.hbs"],l=function(e){var l=t.grid.postBlockCount(e),r=e.PostLibrary.getPosts({count:l,outsideDOM:!0}),o=n('<div class="post-block"></div>'),s=t.embedSettings.growAnimation;r.forEach(function(e){var t=n('<div class="grid-cell"></div>');e.render(a),t.append(e.DOMObj),o.append(t)}),e.$posts.append(o),t.pub("postsAddedToDOM",{tab:e,posts:r}),s&&o.addClass("reveal "+s),i(e)},r=function(e,n){var l=n.closest(".grid-cell"),r=e.PostLibrary.getPosts({count:1,outsideDOM:!0})[0];if(e.PostLibrary.removePost(n.data("post")),l.length)if(r)r.render(a),l.append(r.DOMObj),t.pub("postsAddedToDOM",{tab:e,posts:[r]}),i(e);else{var o=l.parent();l.detach(),o.append(l)}},i=function(e){e.PostLibrary.olderPostCount()<t.grid.postBlockCount()?n(".load-more").addClass("done"):n(".load-more").removeClass("done")},o=function(){var a=!!n("body").hasClass("mobile"),l=e.document.documentElement.clientWidth<641;n("body")[l?"addClass":"removeClass"]("mobile"),(a&&!l||l&&!a)&&t.pub("mobileSizeChanged")};t.grid={postBlockCount:function(){if(!t.embedSettings.mosaic){var e={grow:2,slider:n("body").hasClass("mobile")?t.embedSettings.sliderMaxRowsMobile:t.embedSettings.sliderMaxRows,cycle:n("body").hasClass("mobile")?t.embedSettings.cycleMaxRowsMobile:t.embedSettings.cycleMaxRows};return n("body").hasClass("mobile")?e[t.embedSettings.type]*t.embedSettings.maxColumnsMobile:e[t.embedSettings.type]*t.embedSettings.maxColumns}if(n("body").hasClass("mobile"))switch(t.embedSettings.mosaicMobileTemplate){default:return 3;case 3:return 4;case 4:case 5:return 5;case 6:return 6}else switch(t.embedSettings.mosaicTemplate){default:return 6;case 3:return 7;case 4:return 4;case 5:return 5}}},o(),e.addEventListener("resize",o),t.TabManager.init({mediaOnly:t.embedSettings.mediaOnly}),t.ModalLauncher.init(),t.sub("missingPostImage",function(e,t){t.$post.closest(".grid-cell.animating").length?t.$post.data().replaceFn=function(){r(t.tab,t.$post)}:r(t.tab,t.$post)}),"grow"===t.embedSettings.type&&(n(".load-more").click(function(){l(t.TabManager.activeTab())}),t.sub("postLibraryInitialized",function(e,t){l(t)}),t.sub("mobileSizeChanged",function(e){t.TabManager.allTabs().forEach(function(e){e.PostLibrary.initialized&&(e.clearContent(),l(e))})}),t.sub("tabChanged",function(e,t){i(t.tab)})),t.sub("postClicked",function(n,a){t.embedSettings.showPostModals?t.ModalLauncher.open(a):e.open(a.data.permalink,"_blank").focus()})}(window,window.tgb,jQuery);